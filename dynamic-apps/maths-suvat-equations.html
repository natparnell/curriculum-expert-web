<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The SUVAT Equations</title>
<style>
/* ‚îÄ‚îÄ Reset & Variables ‚îÄ‚îÄ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
    /* Primary colors */
    --primary: #4361ee;
    --primary-dark: #2b44c7;

    /* SUVAT variable colours */
    --col-s: #3b82f6;
    --col-u: #10b981;
    --col-v: #ef4444;
    --col-a: #f59e0b;
    --col-t: #8b5cf6;

    --col-s-light: #dbeafe;
    --col-u-light: #d1fae5;
    --col-v-light: #fee2e2;
    --col-a-light: #fef3c7;
    --col-t-light: #ede9fe;

    /* Gray scale */
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-300: #d1d5db;
    --gray-500: #6b7280;
    --gray-600: #4b5563;
    --gray-700: #374151;
    --gray-800: #1f2937;
    --gray-900: #111827;

    /* Layout tokens */
    --radius: 12px;
    --shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
}

body {
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    background: var(--gray-50);
    color: var(--gray-800);
    line-height: 1.6;
}

/* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
.header {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    padding: 2.5rem 1.5rem;
    text-align: center;
    position: relative;
    overflow: hidden;
}
.header::before {
    content: '';
    position: absolute;
    inset: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}
.header h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: 0.3rem; position: relative; }
.header p { font-size: 1.15rem; opacity: 0.9; position: relative; }

/* ‚îÄ‚îÄ Layout ‚îÄ‚îÄ */
.container { max-width: 1200px; margin: 0 auto; padding: 1.5rem; }
.section { margin-bottom: 2rem; }
.section-title {
    font-size: 1.5rem; font-weight: 700; color: var(--gray-900);
    margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;
}
.section-title .icon { font-size: 1.3rem; }

/* ‚îÄ‚îÄ Cards ‚îÄ‚îÄ */
.card {
    background: white; border-radius: var(--radius); border: 1px solid var(--gray-200);
    padding: 1.5rem; box-shadow: var(--shadow); transition: box-shadow 0.25s ease;
}
.card:hover { box-shadow: var(--shadow-lg); }

/* ‚îÄ‚îÄ Equation Grid ‚îÄ‚îÄ */
.eq-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; }
.eq-card {
    background: white; border-radius: var(--radius); border: 1px solid var(--gray-200);
    padding: 1.25rem; box-shadow: var(--shadow); text-align: center;
    transition: box-shadow 0.25s ease, transform 0.2s ease;
}
.eq-card:hover { box-shadow: var(--shadow-lg); transform: translateY(-2px); }
.eq-card .eq-formula {
    font-family: 'Cambria Math', 'Times New Roman', serif;
    font-size: 1.7rem; margin: 0.75rem 0; line-height: 1.4;
}
.eq-card .eq-number { font-size: 0.8rem; font-weight: 700; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.05em; }
.eq-card .eq-missing {
    display: inline-block; padding: 0.2rem 0.7rem; border-radius: 100px;
    font-size: 0.8rem; font-weight: 600; margin: 0.5rem 0;
}
.eq-card .eq-desc { font-size: 0.9rem; color: var(--gray-600); margin-top: 0.5rem; }

/* Variable colour spans */
.var-s { color: var(--col-s); font-weight: 700; }
.var-u { color: var(--col-u); font-weight: 700; }
.var-v { color: var(--col-v); font-weight: 700; }
.var-a { color: var(--col-a); font-weight: 700; }
.var-t { color: var(--col-t); font-weight: 700; }

/* ‚îÄ‚îÄ Playground ‚îÄ‚îÄ */
.playground-controls { display: flex; flex-wrap: wrap; gap: 1rem; align-items: flex-end; margin-bottom: 1rem; }
.control-group { flex: 1; min-width: 160px; }
.control-group label { display: block; font-size: 0.85rem; font-weight: 600; color: var(--gray-700); margin-bottom: 0.3rem; }
.control-group select, .control-group input[type="range"] { width: 100%; }
.control-group select {
    padding: 0.4rem 0.6rem; border: 1px solid var(--gray-300); border-radius: 8px;
    font-size: 0.9rem; background: white;
}
.slider-value { font-size: 0.85rem; font-weight: 600; text-align: right; }

.playground-canvas-wrap {
    background: var(--gray-100); border-radius: var(--radius); padding: 0.75rem;
    margin-bottom: 1rem;
}
.playground-canvas-wrap canvas { width: 100%; display: block; border-radius: 8px; background: white; }

.graphs-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.75rem; margin-bottom: 1rem; }
.graph-box { background: white; border-radius: 8px; border: 1px solid var(--gray-200); padding: 0.5rem; text-align: center; }
.graph-box h4 { font-size: 0.8rem; color: var(--gray-600); margin-bottom: 0.3rem; }
.graph-box canvas { width: 100%; display: block; }

.readout { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.5rem; margin-bottom: 1rem; }
.readout-item { text-align: center; padding: 0.6rem; border-radius: 8px; font-weight: 700; font-size: 1rem; }
.readout-item .readout-label { font-size: 0.75rem; font-weight: 600; display: block; margin-bottom: 0.15rem; }
.readout-s { background: var(--col-s-light); color: var(--col-s); }
.readout-u { background: var(--col-u-light); color: var(--col-u); }
.readout-v { background: var(--col-v-light); color: var(--col-v); }
.readout-a { background: var(--col-a-light); color: var(--col-a); }
.readout-t { background: var(--col-t-light); color: var(--col-t); }

.eq-used { font-size: 0.9rem; color: var(--gray-600); margin-bottom: 0.75rem; }
.eq-used strong { color: var(--primary); }

.play-btn {
    padding: 0.6rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 700;
    cursor: pointer; background: var(--primary); color: white; transition: background 0.2s;
}
.play-btn:hover { background: var(--primary-dark); }
.play-btn.reset { background: var(--gray-500); margin-left: 0.5rem; }
.play-btn.reset:hover { background: var(--gray-700); }

/* ‚îÄ‚îÄ Equation Finder ‚îÄ‚îÄ */
.finder-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
.finder-col h3 { font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem; color: var(--gray-800); }
.finder-option { display: flex; align-items: center; gap: 0.5rem; padding: 0.4rem 0; font-size: 0.95rem; }
.finder-option input { width: 18px; height: 18px; accent-color: var(--primary); }
.finder-result {
    margin-top: 1.5rem; padding: 1.25rem; border-radius: var(--radius);
    background: linear-gradient(135deg, #eef2ff, #e0e7ff); border: 2px solid var(--primary);
    display: none;
}
.finder-result.visible { display: block; }
.finder-result .fr-eq {
    font-family: 'Cambria Math', 'Times New Roman', serif; font-size: 1.5rem;
    text-align: center; margin: 0.75rem 0;
}
.finder-result .fr-rearranged {
    font-family: 'Cambria Math', 'Times New Roman', serif; font-size: 1.3rem;
    text-align: center; margin: 0.5rem 0; color: var(--primary-dark);
}
.finder-result .fr-steps {
    background: white; border-radius: 8px; padding: 1rem; margin-top: 0.75rem;
    font-size: 0.9rem; line-height: 1.8;
}

/* ‚îÄ‚îÄ Word Problems ‚îÄ‚îÄ */
.wp-nav { display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem; }
.wp-nav button {
    padding: 0.5rem 1.2rem; border: 1px solid var(--gray-300); border-radius: 8px;
    background: white; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.2s;
}
.wp-nav button:hover:not(:disabled) { background: var(--gray-100); border-color: var(--primary); color: var(--primary); }
.wp-nav button:disabled { opacity: 0.4; cursor: default; }
.wp-counter { font-weight: 700; color: var(--gray-700); }

.wp-problem { display: none; }
.wp-problem.active { display: block; }
.wp-text {
    font-size: 1.05rem; line-height: 1.7; padding: 1.25rem; background: var(--gray-50);
    border-radius: 8px; border-left: 4px solid var(--primary); margin-bottom: 1rem;
}
.wp-text .inference { background: transparent; padding: 0.1rem 0.3rem; border-radius: 4px; font-weight: 600; transition: background 0.3s; }
.wp-text .inference.shown { background: var(--col-a-light); }

.wp-btn {
    padding: 0.5rem 1rem; border: none; border-radius: 8px; font-size: 0.9rem; font-weight: 600;
    cursor: pointer; margin-right: 0.5rem; margin-bottom: 0.5rem; transition: all 0.2s;
}
.wp-btn-extract { background: var(--col-u-light); color: #065f46; border: 1px solid var(--col-u); }
.wp-btn-extract:hover { background: var(--col-u); color: white; }
.wp-btn-solution { background: var(--col-s-light); color: #1e40af; border: 1px solid var(--col-s); }
.wp-btn-solution:hover { background: var(--col-s); color: white; }
.wp-btn-animate { background: var(--col-t-light); color: #5b21b6; border: 1px solid var(--col-t); }
.wp-btn-animate:hover { background: var(--col-t); color: white; }

.wp-extract, .wp-solution { display: none; margin-top: 1rem; }
.wp-extract.visible, .wp-solution.visible { display: block; }

.wp-extract { background: white; border-radius: 8px; padding: 1rem; border: 1px solid var(--gray-200); }
.wp-extract table { width: 100%; border-collapse: collapse; }
.wp-extract th, .wp-extract td { padding: 0.4rem 0.75rem; text-align: left; font-size: 0.9rem; }
.wp-extract th { font-weight: 700; border-bottom: 2px solid var(--gray-200); }
.wp-extract td { border-bottom: 1px solid var(--gray-100); }
.wp-extract .reasoning { color: var(--gray-600); font-style: italic; font-size: 0.85rem; }

.wp-solution { background: white; border-radius: 8px; padding: 1.25rem; border: 2px solid var(--primary); }
.wp-solution .step { padding: 0.5rem 0; border-bottom: 1px solid var(--gray-100); font-size: 0.95rem; line-height: 1.7; }
.wp-solution .step:last-child { border-bottom: none; }
.wp-solution .step-label { font-weight: 700; color: var(--primary); margin-right: 0.5rem; }
.wp-solution .step .eq-highlight {
    font-family: 'Cambria Math', 'Times New Roman', serif; font-size: 1.1rem;
    display: block; margin: 0.3rem 0; padding: 0.4rem 0.75rem;
    background: var(--gray-50); border-radius: 6px;
}

.wp-canvas-wrap { margin-top: 1rem; background: var(--gray-100); border-radius: 8px; padding: 0.5rem; }
.wp-canvas-wrap canvas { width: 100%; display: block; border-radius: 6px; background: white; }

/* ‚îÄ‚îÄ Quick Reference ‚îÄ‚îÄ */
.qr-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; }
.qr-card { background: white; border-radius: var(--radius); border: 1px solid var(--gray-200); padding: 1.25rem; box-shadow: var(--shadow); }
.qr-card h3 { font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem; color: var(--gray-800); }
.qr-eq-list { list-style: none; }
.qr-eq-list li {
    font-family: 'Cambria Math', 'Times New Roman', serif; font-size: 1.15rem;
    padding: 0.3rem 0; border-bottom: 1px solid var(--gray-100);
}
.cw-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
.cw-table th, .cw-table td { padding: 0.4rem 0.6rem; text-align: left; }
.cw-table th { border-bottom: 2px solid var(--gray-200); font-weight: 700; }
.cw-table td { border-bottom: 1px solid var(--gray-100); }
.cw-table tr:hover { background: var(--gray-50); }
.cw-keyword { font-weight: 700; color: var(--col-a); }

.var-def-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
.var-def-table td { padding: 0.4rem 0.6rem; border-bottom: 1px solid var(--gray-100); }
.var-def-table .var-sym { font-family: 'Cambria Math', 'Times New Roman', serif; font-size: 1.2rem; font-weight: 700; width: 40px; text-align: center; }

/* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
.footer { text-align: center; padding: 1.5rem; color: var(--gray-500); font-size: 0.85rem; }

/* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
@media (max-width: 700px) {
    .eq-grid { grid-template-columns: 1fr; }
    .graphs-row { grid-template-columns: 1fr; }
    .readout { grid-template-columns: repeat(3, 1fr); }
    .finder-grid { grid-template-columns: 1fr; }
    .playground-controls { flex-direction: column; }
    .qr-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HEADER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="header">
    <h1>The SUVAT Equations</h1>
    <p>Equations of motion under constant acceleration</p>
</div>

<div class="container">

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 1. THE FIVE EQUATIONS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section">
    <div class="section-title"><span class="icon">üìê</span> The Five Equations</div>
    <div class="eq-grid">
        <div class="eq-card">
            <div class="eq-number">Equation 1</div>
            <div class="eq-formula"><span class="var-v">v</span> = <span class="var-u">u</span> + <span class="var-a">a</span><span class="var-t">t</span></div>
            <div class="eq-missing" style="background:var(--col-s-light);color:var(--col-s);">No <span class="var-s">s</span></div>
            <div class="eq-desc">Use when you don't need displacement. Links velocity, acceleration and time.</div>
        </div>
        <div class="eq-card">
            <div class="eq-number">Equation 2</div>
            <div class="eq-formula"><span class="var-s">s</span> = <span class="var-u">u</span><span class="var-t">t</span> + &#189;<span class="var-a">a</span><span class="var-t">t</span>&#178;</div>
            <div class="eq-missing" style="background:var(--col-v-light);color:var(--col-v);">No <span class="var-v">v</span></div>
            <div class="eq-desc">Use when you don't know or need the final velocity.</div>
        </div>
        <div class="eq-card">
            <div class="eq-number">Equation 3</div>
            <div class="eq-formula"><span class="var-s">s</span> = &#189;(<span class="var-u">u</span> + <span class="var-v">v</span>)<span class="var-t">t</span></div>
            <div class="eq-missing" style="background:var(--col-a-light);color:var(--col-a);">No <span class="var-a">a</span></div>
            <div class="eq-desc">Use when acceleration is not needed. Displacement equals average velocity times time.</div>
        </div>
        <div class="eq-card">
            <div class="eq-number">Equation 4</div>
            <div class="eq-formula"><span class="var-v">v</span>&#178; = <span class="var-u">u</span>&#178; + 2<span class="var-a">a</span><span class="var-s">s</span></div>
            <div class="eq-missing" style="background:var(--col-t-light);color:var(--col-t);">No <span class="var-t">t</span></div>
            <div class="eq-desc">Use when time is not involved. Links speeds, acceleration and displacement.</div>
        </div>
        <div class="eq-card">
            <div class="eq-number">Equation 5</div>
            <div class="eq-formula"><span class="var-s">s</span> = <span class="var-v">v</span><span class="var-t">t</span> - &#189;<span class="var-a">a</span><span class="var-t">t</span>&#178;</div>
            <div class="eq-missing" style="background:var(--col-u-light);color:var(--col-u);">No <span class="var-u">u</span></div>
            <div class="eq-desc">Use when you don't know the initial velocity.</div>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 2. INTERACTIVE PLAYGROUND ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section">
    <div class="section-title"><span class="icon">üéÆ</span> Interactive Playground</div>
    <div class="card">
        <div class="playground-controls">
            <div class="control-group">
                <label>Choose 3 input variables</label>
                <select id="pgMode">
                    <option value="u,a,t">u, a, t (find s and v)</option>
                    <option value="u,v,t">u, v, t (find s and a)</option>
                    <option value="u,a,s">u, a, s (find v and t)</option>
                    <option value="s,u,t">s, u, t (find v and a)</option>
                    <option value="s,v,t">s, v, t (find u and a)</option>
                    <option value="u,v,s">u, v, s (find a and t)</option>
                </select>
            </div>
        </div>
        <div class="playground-controls" id="pgSliders"></div>

        <div class="playground-canvas-wrap">
            <canvas id="pgCanvas" width="1000" height="160"></canvas>
        </div>

        <div class="graphs-row">
            <div class="graph-box"><h4>s&#8211;t graph</h4><canvas id="gST" width="300" height="200"></canvas></div>
            <div class="graph-box"><h4>v&#8211;t graph</h4><canvas id="gVT" width="300" height="200"></canvas></div>
            <div class="graph-box"><h4>a&#8211;t graph</h4><canvas id="gAT" width="300" height="200"></canvas></div>
        </div>

        <div class="readout">
            <div class="readout-item readout-s"><span class="readout-label">s (m)</span><span id="ro-s">0</span></div>
            <div class="readout-item readout-u"><span class="readout-label">u (m/s)</span><span id="ro-u">0</span></div>
            <div class="readout-item readout-v"><span class="readout-label">v (m/s)</span><span id="ro-v">0</span></div>
            <div class="readout-item readout-a"><span class="readout-label">a (m/s&#178;)</span><span id="ro-a">0</span></div>
            <div class="readout-item readout-t"><span class="readout-label">t (s)</span><span id="ro-t">0</span></div>
        </div>

        <div class="eq-used" id="pgEqUsed">Equations used: <strong>&mdash;</strong></div>

        <button class="play-btn" id="pgPlay">&#9654; Play</button>
        <button class="play-btn reset" id="pgReset">&#8634; Reset</button>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 3. EQUATION FINDER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section">
    <div class="section-title"><span class="icon">üîç</span> Which Equation Do I Need?</div>
    <div class="card">
        <div class="finder-grid">
            <div class="finder-col">
                <h3>I KNOW these 3 variables:</h3>
                <label class="finder-option"><input type="checkbox" name="fKnow" value="s"> <span class="var-s">s</span> &mdash; displacement</label>
                <label class="finder-option"><input type="checkbox" name="fKnow" value="u"> <span class="var-u">u</span> &mdash; initial velocity</label>
                <label class="finder-option"><input type="checkbox" name="fKnow" value="v"> <span class="var-v">v</span> &mdash; final velocity</label>
                <label class="finder-option"><input type="checkbox" name="fKnow" value="a"> <span class="var-a">a</span> &mdash; acceleration</label>
                <label class="finder-option"><input type="checkbox" name="fKnow" value="t"> <span class="var-t">t</span> &mdash; time</label>
            </div>
            <div class="finder-col">
                <h3>I WANT to find:</h3>
                <label class="finder-option"><input type="radio" name="fWant" value="s"> <span class="var-s">s</span> &mdash; displacement</label>
                <label class="finder-option"><input type="radio" name="fWant" value="u"> <span class="var-u">u</span> &mdash; initial velocity</label>
                <label class="finder-option"><input type="radio" name="fWant" value="v"> <span class="var-v">v</span> &mdash; final velocity</label>
                <label class="finder-option"><input type="radio" name="fWant" value="a"> <span class="var-a">a</span> &mdash; acceleration</label>
                <label class="finder-option"><input type="radio" name="fWant" value="t"> <span class="var-t">t</span> &mdash; time</label>
            </div>
        </div>
        <div class="finder-result" id="finderResult">
            <div id="frTitle" style="font-weight:700;color:var(--primary);"></div>
            <div class="fr-eq" id="frEq"></div>
            <div style="text-align:center;font-weight:600;color:var(--gray-600);margin:0.5rem 0;">Rearranged to find <span id="frTarget"></span>:</div>
            <div class="fr-rearranged" id="frRearranged"></div>
            <div class="fr-steps" id="frSteps"></div>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 4. WORD PROBLEMS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section">
    <div class="section-title"><span class="icon">üìù</span> Exam-Style Word Problems</div>
    <div class="card">
        <div class="wp-nav">
            <button id="wpPrev" disabled>&#8592; Previous</button>
            <span class="wp-counter"><span id="wpNum">1</span> / 6</span>
            <button id="wpNext">Next &#8594;</button>
        </div>
        <div id="wpContainer"></div>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 5. QUICK REFERENCE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section">
    <div class="section-title"><span class="icon">üìã</span> Quick Reference</div>
    <div class="qr-grid">
        <div class="qr-card">
            <h3>All Five Equations</h3>
            <ul class="qr-eq-list">
                <li><span class="var-v">v</span> = <span class="var-u">u</span> + <span class="var-a">a</span><span class="var-t">t</span></li>
                <li><span class="var-s">s</span> = <span class="var-u">u</span><span class="var-t">t</span> + &#189;<span class="var-a">a</span><span class="var-t">t</span>&#178;</li>
                <li><span class="var-s">s</span> = &#189;(<span class="var-u">u</span> + <span class="var-v">v</span>)<span class="var-t">t</span></li>
                <li><span class="var-v">v</span>&#178; = <span class="var-u">u</span>&#178; + 2<span class="var-a">a</span><span class="var-s">s</span></li>
                <li><span class="var-s">s</span> = <span class="var-v">v</span><span class="var-t">t</span> - &#189;<span class="var-a">a</span><span class="var-t">t</span>&#178;</li>
            </ul>
        </div>
        <div class="qr-card">
            <h3>Code Words Cheat Sheet</h3>
            <table class="cw-table">
                <thead><tr><th>Phrase in question</th><th>Meaning</th></tr></thead>
                <tbody>
                    <tr><td><span class="cw-keyword">"from rest"</span></td><td><span class="var-u">u</span> = 0</td></tr>
                    <tr><td><span class="cw-keyword">"dropped"</span></td><td><span class="var-u">u</span> = 0</td></tr>
                    <tr><td><span class="cw-keyword">"maximum height"</span></td><td><span class="var-v">v</span> = 0</td></tr>
                    <tr><td><span class="cw-keyword">"comes to rest / stops"</span></td><td><span class="var-v">v</span> = 0</td></tr>
                    <tr><td><span class="cw-keyword">"freely falling"</span></td><td><span class="var-a">a</span> = &#177;9.8 m/s&#178;</td></tr>
                    <tr><td><span class="cw-keyword">"decelerates"</span></td><td><span class="var-a">a</span> is negative</td></tr>
                    <tr><td><span class="cw-keyword">"constant speed"</span></td><td><span class="var-a">a</span> = 0</td></tr>
                </tbody>
            </table>
        </div>
        <div class="qr-card">
            <h3>Variable Definitions</h3>
            <table class="var-def-table">
                <tr><td class="var-sym var-s">s</td><td>Displacement (m) &mdash; distance in a given direction</td></tr>
                <tr><td class="var-sym var-u">u</td><td>Initial velocity (m/s) &mdash; speed at the start</td></tr>
                <tr><td class="var-sym var-v">v</td><td>Final velocity (m/s) &mdash; speed at the end</td></tr>
                <tr><td class="var-sym var-a">a</td><td>Acceleration (m/s&#178;) &mdash; rate of change of velocity</td></tr>
                <tr><td class="var-sym var-t">t</td><td>Time (s) &mdash; duration of the motion</td></tr>
            </table>
        </div>
    </div>
</div>

</div>

<div class="footer">SUVAT Equations Explorer &mdash; A-Level Mathematics</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<script>
'use strict';

const R = (v, dp) => { dp = dp || 3; const f = Math.pow(10, dp); return Math.round(v * f) / f; };
const R2 = v => R(v, 2);

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PLAYGROUND ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
(function() {
    const modeSelect = document.getElementById('pgMode');
    const slidersDiv = document.getElementById('pgSliders');
    const canvas = document.getElementById('pgCanvas');
    const ctx = canvas.getContext('2d');
    const playBtn = document.getElementById('pgPlay');
    const resetBtn = document.getElementById('pgReset');
    const eqUsedEl = document.getElementById('pgEqUsed');

    const SLIDER_CFG = {
        s: { label: 's \u2014 displacement (m)', min: 1, max: 200, step: 1, def: 50, color: '#3b82f6' },
        u: { label: 'u \u2014 initial velocity (m/s)', min: 0, max: 40, step: 0.5, def: 5, color: '#10b981' },
        v: { label: 'v \u2014 final velocity (m/s)', min: 0, max: 60, step: 0.5, def: 20, color: '#ef4444' },
        a: { label: 'a \u2014 acceleration (m/s\u00B2)', min: -10, max: 10, step: 0.1, def: 2, color: '#f59e0b' },
        t: { label: 't \u2014 time (s)', min: 0.5, max: 20, step: 0.5, def: 5, color: '#8b5cf6' }
    };

    var vals = { s:0, u:0, v:0, a:0, t:0 };
    var eqUsed = [];
    var animId = null, animRunning = false;

    function getMode() { return modeSelect.value.split(','); }

    function buildSliders() {
        var inputs = getMode();
        slidersDiv.innerHTML = '';
        inputs.forEach(function(k) {
            var cfg = SLIDER_CFG[k];
            var grp = document.createElement('div');
            grp.className = 'control-group';
            grp.innerHTML = '<label>' + cfg.label + '</label>' +
                '<input type="range" min="' + cfg.min + '" max="' + cfg.max + '" step="' + cfg.step + '" value="' + cfg.def + '" data-var="' + k + '" style="accent-color:' + cfg.color + '">' +
                '<div class="slider-value" style="color:' + cfg.color + '" id="sv-' + k + '">' + cfg.def + '</div>';
            slidersDiv.appendChild(grp);
            grp.querySelector('input').addEventListener('input', function(e) {
                document.getElementById('sv-' + k).textContent = e.target.value;
                compute();
            });
        });
        compute();
    }

    function compute() {
        var inputs = getMode();
        eqUsed = [];
        inputs.forEach(function(k) {
            vals[k] = parseFloat(slidersDiv.querySelector('[data-var="' + k + '"]').value);
        });

        var known = {};
        inputs.forEach(function(k) { known[k] = true; });
        var need = ['s','u','v','a','t'].filter(function(x) { return !known[x]; });

        need.forEach(function(unk) {
            if (unk === 's') {
                if (known.u && known.a && known.t) {
                    vals.s = vals.u * vals.t + 0.5 * vals.a * vals.t * vals.t;
                    eqUsed.push('s = ut + \u00BDat\u00B2');
                } else if (known.u && known.v && known.t) {
                    vals.s = 0.5 * (vals.u + vals.v) * vals.t;
                    eqUsed.push('s = \u00BD(u+v)t');
                }
            } else if (unk === 'v') {
                if (known.u && known.a && known.t) {
                    vals.v = vals.u + vals.a * vals.t;
                    eqUsed.push('v = u + at');
                } else if (known.u && known.a && known.s) {
                    var v2 = vals.u * vals.u + 2 * vals.a * vals.s;
                    vals.v = v2 >= 0 ? Math.sqrt(v2) : 0;
                    eqUsed.push('v\u00B2 = u\u00B2 + 2as');
                }
            } else if (unk === 'u') {
                if (known.v && known.a && known.t) {
                    vals.u = vals.v - vals.a * vals.t;
                    eqUsed.push('u = v - at');
                } else if (known.s && known.v && known.t && vals.t !== 0) {
                    vals.u = (2 * vals.s / vals.t) - vals.v;
                    eqUsed.push('u = 2s/t - v');
                }
            } else if (unk === 'a') {
                if (known.u && known.v && known.t && vals.t !== 0) {
                    vals.a = (vals.v - vals.u) / vals.t;
                    eqUsed.push('a = (v-u)/t');
                } else if (known.s && known.u && known.t && vals.t !== 0) {
                    vals.a = 2 * (vals.s - vals.u * vals.t) / (vals.t * vals.t);
                    eqUsed.push('a = 2(s-ut)/t\u00B2');
                }
            } else if (unk === 't') {
                if (known.u && known.v && known.a && vals.a !== 0) {
                    vals.t = (vals.v - vals.u) / vals.a;
                    eqUsed.push('t = (v-u)/a');
                } else if (known.u && known.v && known.s) {
                    var avg = (vals.u + vals.v) / 2;
                    vals.t = avg !== 0 ? vals.s / avg : 0;
                    eqUsed.push('t = 2s/(u+v)');
                } else if (known.u && known.a && known.s && vals.a !== 0) {
                    var disc = vals.u * vals.u + 2 * vals.a * vals.s;
                    if (disc >= 0) {
                        var t1 = (-vals.u + Math.sqrt(disc)) / vals.a;
                        var t2 = (-vals.u - Math.sqrt(disc)) / vals.a;
                        vals.t = t1 > 0 ? t1 : t2;
                        eqUsed.push('s = ut + \u00BDat\u00B2 (quadratic)');
                    }
                }
            }
            known[unk] = true;
        });

        updateReadout();
        drawGraphs();
        eqUsedEl.innerHTML = 'Equations used: <strong>' + (eqUsed.length ? eqUsed.join(', ') : '\u2014') + '</strong>';
    }

    function updateReadout() {
        document.getElementById('ro-s').textContent = R2(vals.s);
        document.getElementById('ro-u').textContent = R2(vals.u);
        document.getElementById('ro-v').textContent = R2(vals.v);
        document.getElementById('ro-a').textContent = R2(vals.a);
        document.getElementById('ro-t').textContent = R2(vals.t);
    }

    function drawGraphs() {
        drawGraph('gST', 't', 's', '#3b82f6', function(t) { return vals.u * t + 0.5 * vals.a * t * t; }, false);
        drawGraph('gVT', 't', 'v', '#ef4444', function(t) { return vals.u + vals.a * t; }, true);
        drawGraph('gAT', 't', 'a', '#f59e0b', function() { return vals.a; }, false);
    }

    function drawGraph(id, xLabel, yLabel, color, fn, shadeArea) {
        var c = document.getElementById(id);
        var g = c.getContext('2d');
        var W = c.width, H = c.height;
        g.clearRect(0, 0, W, H);

        var pad = { l: 45, r: 15, t: 15, b: 30 };
        var gw = W - pad.l - pad.r, gh = H - pad.t - pad.b;
        var T = Math.max(Math.abs(vals.t), 1);

        var steps = 50;
        var yMin = 0, yMax = 0;
        for (var i = 0; i <= steps; i++) {
            var y = fn(i * T / steps);
            if (y < yMin) yMin = y;
            if (y > yMax) yMax = y;
        }
        if (yMin === yMax) { yMin -= 1; yMax += 1; }
        var yPad = (yMax - yMin) * 0.1;
        yMin -= yPad; yMax += yPad;

        var sx = function(t) { return pad.l + (t / T) * gw; };
        var sy = function(y) { return pad.t + gh - ((y - yMin) / (yMax - yMin)) * gh; };

        // Axes
        g.strokeStyle = '#ccc'; g.lineWidth = 1;
        g.beginPath(); g.moveTo(pad.l, pad.t); g.lineTo(pad.l, H - pad.b); g.lineTo(W - pad.r, H - pad.b); g.stroke();

        // Zero line
        if (yMin < 0 && yMax > 0) {
            g.strokeStyle = '#ddd'; g.setLineDash([4, 4]);
            g.beginPath(); g.moveTo(pad.l, sy(0)); g.lineTo(W - pad.r, sy(0)); g.stroke();
            g.setLineDash([]);
        }

        // Shaded area under v-t
        if (shadeArea) {
            g.fillStyle = 'rgba(59,130,246,0.12)';
            g.beginPath(); g.moveTo(sx(0), sy(0));
            for (var i = 0; i <= steps; i++) { var t = i * T / steps; g.lineTo(sx(t), sy(fn(t))); }
            g.lineTo(sx(T), sy(0)); g.closePath(); g.fill();
            // Label area
            g.fillStyle = '#3b82f6'; g.font = '10px system-ui'; g.textAlign = 'center';
            g.fillText('area = s', pad.l + gw / 2, sy(fn(T / 2)) + 14);
        }

        // Curve
        g.strokeStyle = color; g.lineWidth = 2.5;
        g.beginPath();
        for (var i = 0; i <= steps; i++) {
            var t = i * T / steps;
            i === 0 ? g.moveTo(sx(t), sy(fn(t))) : g.lineTo(sx(t), sy(fn(t)));
        }
        g.stroke();

        // Labels
        g.fillStyle = '#666'; g.font = '11px system-ui';
        g.textAlign = 'center';
        g.fillText(xLabel + ' (s)', pad.l + gw / 2, H - 5);
        g.fillText('0', pad.l - 8, H - pad.b + 12);
        g.fillText(R2(T), W - pad.r, H - pad.b + 12);
        g.save(); g.translate(12, pad.t + gh / 2); g.rotate(-Math.PI / 2);
        g.fillText(yLabel, 0, 0); g.restore();
        g.textAlign = 'right';
        g.fillText(R2(yMax), pad.l - 5, pad.t + 10);
        g.fillText(R2(yMin), pad.l - 5, H - pad.b - 2);
    }

    /* ‚îÄ‚îÄ Ball Animation ‚îÄ‚îÄ */
    function drawBall(progress) {
        var W = canvas.width, H = canvas.height;
        ctx.clearRect(0, 0, W, H);

        var trackY = H / 2 + 20;
        // Road
        ctx.fillStyle = '#e5e7eb'; ctx.fillRect(40, trackY, W - 80, 6);
        // Markers
        ctx.fillStyle = '#d1d5db';
        for (var i = 0; i <= 10; i++) {
            var x = 40 + (W - 80) * i / 10;
            ctx.fillRect(x - 1, trackY - 4, 2, 14);
        }

        var curT = progress * Math.abs(vals.t);
        var curS = vals.u * curT + 0.5 * vals.a * curT * curT;
        var totalS = Math.abs(vals.s) || 1;
        var ballX = 40 + (W - 80) * Math.max(0, Math.min(1, curS / totalS));

        // Ball
        ctx.beginPath(); ctx.arc(ballX, trackY - 12, 14, 0, Math.PI * 2);
        ctx.fillStyle = '#4361ee'; ctx.fill();
        ctx.strokeStyle = '#2b44c7'; ctx.lineWidth = 2; ctx.stroke();

        var curV = vals.u + vals.a * curT;
        ctx.fillStyle = '#374151'; ctx.font = 'bold 13px system-ui'; ctx.textAlign = 'center';
        ctx.fillText('v = ' + R2(curV) + ' m/s', ballX, trackY - 34);
        ctx.fillText('t = ' + R2(curT) + ' s', ballX, H - 8);
        ctx.fillStyle = '#3b82f6'; ctx.font = '12px system-ui';
        ctx.fillText('s = ' + R2(curS) + ' m', W / 2, 18);
    }

    function animate(startTime) {
        if (!animRunning) return;
        var elapsed = (performance.now() - startTime) / 1000;
        var animDuration = Math.min(Math.max(Math.abs(vals.t), 1), 8);
        var progress = Math.min(elapsed / animDuration, 1);
        drawBall(progress);
        if (progress < 1) {
            animId = requestAnimationFrame(function() { animate(startTime); });
        } else {
            animRunning = false;
            playBtn.innerHTML = '&#9654; Play';
        }
    }

    playBtn.addEventListener('click', function() {
        if (animRunning) {
            animRunning = false;
            cancelAnimationFrame(animId);
            playBtn.innerHTML = '&#9654; Play';
        } else {
            animRunning = true;
            playBtn.innerHTML = '&#9208; Pause';
            animate(performance.now());
        }
    });

    resetBtn.addEventListener('click', function() {
        animRunning = false;
        if (animId) cancelAnimationFrame(animId);
        playBtn.innerHTML = '&#9654; Play';
        drawBall(0);
    });

    modeSelect.addEventListener('change', function() { buildSliders(); drawBall(0); });
    buildSliders();
    drawBall(0);
})();


/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê EQUATION FINDER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
(function() {
    var knowBoxes = document.querySelectorAll('[name="fKnow"]');
    var wantRadios = document.querySelectorAll('[name="fWant"]');
    var resultDiv = document.getElementById('finderResult');

    var EQUATIONS = [
        { vars: ['u','v','a','t'], missing: 's', name: 'Equation 1', eq: 'v = u + at',
          rearrange: { v: 'v = u + at', u: 'u = v - at', a: 'a = (v - u) / t', t: 't = (v - u) / a' }},
        { vars: ['s','u','a','t'], missing: 'v', name: 'Equation 2', eq: 's = ut + \u00BDat\u00B2',
          rearrange: { s: 's = ut + \u00BDat\u00B2', u: 'u = (s - \u00BDat\u00B2) / t', a: 'a = 2(s - ut) / t\u00B2', t: 'Solve \u00BDat\u00B2 + ut - s = 0 (quadratic)' }},
        { vars: ['s','u','v','t'], missing: 'a', name: 'Equation 3', eq: 's = \u00BD(u + v)t',
          rearrange: { s: 's = \u00BD(u + v)t', u: 'u = (2s / t) - v', v: 'v = (2s / t) - u', t: 't = 2s / (u + v)' }},
        { vars: ['s','u','v','a'], missing: 't', name: 'Equation 4', eq: 'v\u00B2 = u\u00B2 + 2as',
          rearrange: { v: 'v = \u221A(u\u00B2 + 2as)', u: 'u = \u221A(v\u00B2 - 2as)', a: 'a = (v\u00B2 - u\u00B2) / 2s', s: 's = (v\u00B2 - u\u00B2) / 2a' }},
        { vars: ['s','v','a','t'], missing: 'u', name: 'Equation 5', eq: 's = vt - \u00BDat\u00B2',
          rearrange: { s: 's = vt - \u00BDat\u00B2', v: 'v = (s + \u00BDat\u00B2) / t', a: 'a = 2(vt - s) / t\u00B2', t: 'Solve \u00BDat\u00B2 - vt + s = 0 (quadratic)' }}
    ];

    // Limit to 3 checkboxes
    Array.prototype.forEach.call(knowBoxes, function(cb) {
        cb.addEventListener('change', function() {
            var checked = Array.prototype.filter.call(knowBoxes, function(c) { return c.checked; });
            if (checked.length > 3) { cb.checked = false; return; }
            // Disable want radios for known vars
            var knownVals = checked.map(function(c) { return c.value; });
            Array.prototype.forEach.call(wantRadios, function(r) {
                var isKnown = knownVals.indexOf(r.value) !== -1;
                r.disabled = isKnown;
                r.parentElement.style.opacity = isKnown ? '0.4' : '1';
                if (isKnown && r.checked) r.checked = false;
            });
            evaluate();
        });
    });

    Array.prototype.forEach.call(wantRadios, function(r) { r.addEventListener('change', evaluate); });

    function evaluate() {
        var known = [];
        Array.prototype.forEach.call(knowBoxes, function(c) { if (c.checked) known.push(c.value); });
        var wantEl = null;
        Array.prototype.forEach.call(wantRadios, function(r) { if (r.checked) wantEl = r; });
        if (known.length !== 3 || !wantEl) { resultDiv.classList.remove('visible'); return; }
        var want = wantEl.value;

        var all = ['s','u','v','a','t'];
        var missing = null;
        for (var i = 0; i < all.length; i++) {
            if (known.indexOf(all[i]) === -1 && all[i] !== want) { missing = all[i]; break; }
        }

        var eq = null;
        for (var i = 0; i < EQUATIONS.length; i++) {
            if (EQUATIONS[i].missing === missing) { eq = EQUATIONS[i]; break; }
        }
        if (!eq) { resultDiv.classList.remove('visible'); return; }

        var vc = function(v) { return '<span class="var-' + v + '">' + v + '</span>'; };

        document.getElementById('frTitle').innerHTML = 'Use ' + eq.name + ' (no ' + vc(missing) + '):';
        document.getElementById('frEq').innerHTML = colouriseEq(eq.eq);
        document.getElementById('frTarget').innerHTML = vc(want);
        document.getElementById('frRearranged').innerHTML = colouriseEq(eq.rearrange[want]);

        var steps = '<div style="margin-bottom:0.5rem;font-weight:600;">Step-by-step:</div>';
        steps += '<div>1. List knowns: ' + known.map(function(k) { return vc(k) + ' = ?'; }).join(', ') + '</div>';
        steps += '<div>2. Want: ' + vc(want) + '</div>';
        steps += '<div>3. Missing (don\'t need): ' + vc(missing) + ' \u2192 use ' + eq.name + '</div>';
        steps += '<div>4. Write equation: ' + colouriseEq(eq.eq) + '</div>';
        steps += '<div>5. Rearrange for ' + vc(want) + ': ' + colouriseEq(eq.rearrange[want]) + '</div>';
        steps += '<div>6. Substitute your values and calculate!</div>';
        document.getElementById('frSteps').innerHTML = steps;

        resultDiv.classList.add('visible');
    }

    function colouriseEq(str) {
        return str.replace(/([suvat])/g, function(m, v) {
            if ('suvat'.indexOf(v) !== -1) return '<span class="var-' + v + '">' + v + '</span>';
            return m;
        });
    }
})();


/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WORD PROBLEMS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
(function() {
    var problems = [
        {
            title: 'Problem 1 \u2014 Simple',
            text: 'A car accelerates <span class="inference">from rest</span> at 2 m/s\u00B2 for 5 seconds. How far does it travel?',
            extract: [
                { v: 's', val: '?', reason: 'This is what we want to find' },
                { v: 'u', val: '0 m/s', reason: '"from rest" means starting speed is zero' },
                { v: 'v', val: '?', reason: 'Not mentioned and not asked for' },
                { v: 'a', val: '2 m/s\u00B2', reason: 'Given directly' },
                { v: 't', val: '5 s', reason: 'Given directly' }
            ],
            solution: [
                { label: 'Known', text: 'u = 0, a = 2, t = 5' },
                { label: 'Want', text: 's' },
                { label: 'Missing', text: 'v (not needed), so use Equation 2' },
                { label: 'Equation', text: 's = ut + \u00BDat\u00B2', isEq: true },
                { label: 'Substitute', text: 's = (0)(5) + \u00BD(2)(5\u00B2)', isEq: true },
                { label: 'Calculate', text: 's = 0 + \u00BD(2)(25) = 25 m', isEq: true },
                { label: 'Answer', text: 'The car travels 25 metres.' }
            ],
            animType: 'car', animVals: { u: 0, a: 2, t: 5, s: 25 }
        },
        {
            title: 'Problem 2 \u2014 Vertical Motion',
            text: 'A ball is thrown <span class="inference">vertically upward</span> at 15 m/s. What <span class="inference">maximum height</span> does it reach?',
            extract: [
                { v: 's', val: '?', reason: 'Maximum height is the displacement we want' },
                { v: 'u', val: '15 m/s', reason: 'Given: thrown upward at 15 m/s' },
                { v: 'v', val: '0 m/s', reason: '"maximum height" means the ball momentarily stops' },
                { v: 'a', val: '-9.8 m/s\u00B2', reason: 'Gravity acts downward (opposite to motion)' },
                { v: 't', val: '?', reason: 'Not mentioned and not asked for' }
            ],
            solution: [
                { label: 'Known', text: 'u = 15, v = 0, a = -9.8' },
                { label: 'Want', text: 's' },
                { label: 'Missing', text: 't (not needed), so use Equation 4' },
                { label: 'Equation', text: 'v\u00B2 = u\u00B2 + 2as \u2192 s = (v\u00B2 - u\u00B2) / 2a', isEq: true },
                { label: 'Substitute', text: 's = (0\u00B2 - 15\u00B2) / (2 \u00D7 -9.8)', isEq: true },
                { label: 'Calculate', text: 's = (-225) / (-19.6) = 11.48 m', isEq: true },
                { label: 'Answer', text: 'The ball reaches a maximum height of 11.48 metres (to 2 d.p.).' }
            ],
            animType: 'ball-up', animVals: { u: 15, a: -9.8, s: 11.48 }
        },
        {
            title: 'Problem 3 \u2014 Braking',
            text: 'A train travelling at 30 m/s <span class="inference">applies its brakes</span> and <span class="inference">comes to rest</span> over 450 m. How long does it take?',
            extract: [
                { v: 's', val: '450 m', reason: 'Given: braking distance' },
                { v: 'u', val: '30 m/s', reason: 'Given: initial speed' },
                { v: 'v', val: '0 m/s', reason: '"comes to rest" means final speed is zero' },
                { v: 'a', val: '?', reason: 'Not given directly (deceleration)' },
                { v: 't', val: '?', reason: 'This is what we want to find' }
            ],
            solution: [
                { label: 'Known', text: 's = 450, u = 30, v = 0' },
                { label: 'Want', text: 't' },
                { label: 'Missing', text: 'a (not needed), so use Equation 3' },
                { label: 'Equation', text: 's = \u00BD(u + v)t \u2192 t = 2s / (u + v)', isEq: true },
                { label: 'Substitute', text: 't = 2(450) / (30 + 0)', isEq: true },
                { label: 'Calculate', text: 't = 900 / 30 = 30 s', isEq: true },
                { label: 'Answer', text: 'The train takes 30 seconds to stop.' }
            ],
            animType: 'car', animVals: { u: 30, a: -1, t: 30, s: 450 }
        },
        {
            title: 'Problem 4 \u2014 Two Unknowns',
            text: 'A stone is <span class="inference">dropped</span> from a cliff and hits the ground 3.2 seconds later. How tall is the cliff and how fast is the stone travelling when it hits?',
            extract: [
                { v: 's', val: '?', reason: 'Height of cliff: first unknown' },
                { v: 'u', val: '0 m/s', reason: '"dropped" means released from rest' },
                { v: 'v', val: '?', reason: 'Speed at impact: second unknown' },
                { v: 'a', val: '9.8 m/s\u00B2', reason: 'Free fall under gravity (downward positive)' },
                { v: 't', val: '3.2 s', reason: 'Given directly' }
            ],
            solution: [
                { label: 'Known', text: 'u = 0, a = 9.8, t = 3.2' },
                { label: 'Want', text: 's and v (two unknowns, need two equations)' },
                { label: 'Part A', text: 'Find s: use Equation 2 (no v)' },
                { label: 'Equation', text: 's = ut + \u00BDat\u00B2', isEq: true },
                { label: 'Substitute', text: 's = (0)(3.2) + \u00BD(9.8)(3.2\u00B2)', isEq: true },
                { label: 'Calculate', text: 's = 0 + 4.9 \u00D7 10.24 = 50.18 m', isEq: true },
                { label: 'Part B', text: 'Find v: use Equation 1 (no s)' },
                { label: 'Equation', text: 'v = u + at', isEq: true },
                { label: 'Substitute', text: 'v = 0 + (9.8)(3.2)', isEq: true },
                { label: 'Calculate', text: 'v = 31.36 m/s', isEq: true },
                { label: 'Answer', text: 'The cliff is 50.18 m tall and the stone hits the ground at 31.36 m/s.' }
            ],
            animType: 'fall', animVals: { u: 0, a: 9.8, t: 3.2, s: 50.18 }
        },
        {
            title: 'Problem 5 \u2014 Chaining Equations',
            text: 'A cyclist travelling at 8 m/s <span class="inference">accelerates uniformly</span>. After covering 60 m she is travelling at 14 m/s. Find the acceleration and time taken.',
            extract: [
                { v: 's', val: '60 m', reason: 'Given: distance covered' },
                { v: 'u', val: '8 m/s', reason: 'Given: initial speed' },
                { v: 'v', val: '14 m/s', reason: 'Given: final speed' },
                { v: 'a', val: '?', reason: 'First unknown to find' },
                { v: 't', val: '?', reason: 'Second unknown to find' }
            ],
            solution: [
                { label: 'Known', text: 's = 60, u = 8, v = 14' },
                { label: 'Want', text: 'a and t (two unknowns)' },
                { label: 'Part A', text: 'Find a: use Equation 4 (no t)' },
                { label: 'Equation', text: 'v\u00B2 = u\u00B2 + 2as \u2192 a = (v\u00B2 - u\u00B2) / 2s', isEq: true },
                { label: 'Substitute', text: 'a = (14\u00B2 - 8\u00B2) / (2 \u00D7 60)', isEq: true },
                { label: 'Calculate', text: 'a = (196 - 64) / 120 = 132 / 120 = 1.1 m/s\u00B2', isEq: true },
                { label: 'Part B', text: 'Now we know a, use Equation 1 (no s)' },
                { label: 'Equation', text: 'v = u + at \u2192 t = (v - u) / a', isEq: true },
                { label: 'Substitute', text: 't = (14 - 8) / 1.1', isEq: true },
                { label: 'Calculate', text: 't = 6 / 1.1 = 5.45 s', isEq: true },
                { label: 'Answer', text: 'Acceleration is 1.1 m/s\u00B2 and the time taken is 5.45 s (to 2 d.p.).' }
            ],
            animType: 'car', animVals: { u: 8, a: 1.1, t: 5.45, s: 60 }
        },
        {
            title: 'Problem 6 \u2014 Multi-Stage',
            text: 'A car accelerates <span class="inference">from rest</span> at 3 m/s\u00B2 for 4 seconds, then travels at <span class="inference">constant speed</span> for 10 seconds, then <span class="inference">decelerates uniformly to rest</span> in 6 seconds. Find the total distance.',
            extract: [
                { v: 's', val: '? (3 stages)', reason: 'Total distance is sum of all three stages' },
                { v: 'u', val: '0 m/s (stage 1)', reason: '"from rest" at the start' },
                { v: 'v', val: '0 m/s (stage 3 end)', reason: '"to rest" at the end' },
                { v: 'a', val: '3, 0, ? m/s\u00B2', reason: 'Stage 1: given. Stage 2: "constant speed" means a=0. Stage 3: unknown deceleration' },
                { v: 't', val: '4, 10, 6 s', reason: 'Given for each stage' }
            ],
            solution: [
                { label: 'Stage 1', text: 'u\u2081 = 0, a\u2081 = 3, t\u2081 = 4' },
                { label: 'Find v\u2081', text: 'v = u + at = 0 + 3(4) = 12 m/s', isEq: true },
                { label: 'Find s\u2081', text: 's = ut + \u00BDat\u00B2 = 0 + \u00BD(3)(16) = 24 m', isEq: true },
                { label: 'Stage 2', text: 'u\u2082 = 12 m/s (from stage 1), a\u2082 = 0 (constant speed), t\u2082 = 10' },
                { label: 'Find s\u2082', text: 's = ut = 12 \u00D7 10 = 120 m', isEq: true },
                { label: 'Stage 3', text: 'u\u2083 = 12 m/s, v\u2083 = 0 (comes to rest), t\u2083 = 6' },
                { label: 'Find s\u2083', text: 's = \u00BD(u + v)t = \u00BD(12 + 0)(6) = 36 m', isEq: true },
                { label: 'Total', text: 's = s\u2081 + s\u2082 + s\u2083 = 24 + 120 + 36 = 180 m', isEq: true },
                { label: 'Answer', text: 'The total distance travelled is 180 metres.' }
            ],
            animType: 'multi', animVals: { stages: [
                { u: 0, a: 3, t: 4, s: 24 },
                { u: 12, a: 0, t: 10, s: 120 },
                { u: 12, a: -2, t: 6, s: 36 }
            ]}
        }
    ];

    var container = document.getElementById('wpContainer');
    var current = 0;

    function buildProblems() {
        for (var pi = 0; pi < problems.length; pi++) {
            (function(i) {
                var p = problems[i];
                var div = document.createElement('div');
                div.className = 'wp-problem' + (i === 0 ? ' active' : '');
                div.id = 'wp-' + i;

                var extractHTML = '<table><thead><tr><th>Variable</th><th>Value</th><th>Reasoning</th></tr></thead><tbody>';
                for (var j = 0; j < p.extract.length; j++) {
                    var e = p.extract[j];
                    extractHTML += '<tr><td><span class="var-' + e.v + '" style="font-size:1.1rem;font-weight:700;">' + e.v + '</span></td><td style="font-weight:600;">' + e.val + '</td><td class="reasoning">' + e.reason + '</td></tr>';
                }
                extractHTML += '</tbody></table>';

                var solHTML = '';
                for (var j = 0; j < p.solution.length; j++) {
                    var s = p.solution[j];
                    solHTML += '<div class="step"><span class="step-label">' + s.label + ':</span> ' + (s.isEq ? '<span class="eq-highlight">' + s.text + '</span>' : s.text) + '</div>';
                }

                div.innerHTML = '<h3 style="margin-bottom:0.75rem;color:var(--gray-800);">' + p.title + '</h3>' +
                    '<div class="wp-text">' + p.text + '</div>' +
                    '<div>' +
                    '<button class="wp-btn wp-btn-extract" data-idx="' + i + '" data-type="extract">\uD83D\uDCCA Extract SUVAT Values</button>' +
                    '<button class="wp-btn wp-btn-solution" data-idx="' + i + '" data-type="solution">\u2705 Show Solution</button>' +
                    '<button class="wp-btn wp-btn-animate" data-idx="' + i + '" data-type="animate">\u25B6 Animate</button>' +
                    '</div>' +
                    '<div class="wp-extract" id="wpE' + i + '">' + extractHTML + '</div>' +
                    '<div class="wp-solution" id="wpS' + i + '">' + solHTML + '</div>' +
                    '<div class="wp-canvas-wrap"><canvas id="wpC' + i + '" width="800" height="150"></canvas></div>';
                container.appendChild(div);
            })(pi);
        }

        // Event delegation for buttons
        container.addEventListener('click', function(e) {
            var btn = e.target.closest('[data-idx]');
            if (!btn) return;
            var idx = parseInt(btn.getAttribute('data-idx'));
            var type = btn.getAttribute('data-type');
            if (type === 'extract') wpToggle(idx, 'extract');
            else if (type === 'solution') wpToggle(idx, 'solution');
            else if (type === 'animate') wpAnimate(idx);
        });
    }

    function wpToggle(i, type) {
        var el = document.getElementById(type === 'extract' ? 'wpE' + i : 'wpS' + i);
        el.classList.toggle('visible');
        if (type === 'extract' && el.classList.contains('visible')) {
            var infs = document.querySelectorAll('#wp-' + i + ' .inference');
            for (var j = 0; j < infs.length; j++) infs[j].classList.add('shown');
        }
    }

    function wpAnimate(i) {
        var p = problems[i];
        var c = document.getElementById('wpC' + i);
        var g = c.getContext('2d');
        var W = c.width, H = c.height;
        var startTime = performance.now();
        var anim = p.animVals;

        function draw() {
            var elapsed = (performance.now() - startTime) / 1000;
            g.clearRect(0, 0, W, H);

            if (p.animType === 'fall') {
                var totalT = anim.t;
                var animDur = Math.max(totalT, 1.5);
                var progress = Math.min(elapsed / animDur, 1);
                var curT = progress * totalT;
                var curS = anim.u * curT + 0.5 * anim.a * curT * curT;
                var frac = curS / anim.s;

                // Cliff
                g.fillStyle = '#92400e'; g.fillRect(80, 20, 60, H - 40);
                g.fillStyle = '#78716c'; g.fillRect(70, 20, 80, 8);
                g.fillStyle = '#10b981'; g.fillRect(40, H - 20, 140, 20);

                // Stone
                var ballY = 30 + (H - 60) * Math.min(frac, 1);
                g.beginPath(); g.arc(110, ballY, 10, 0, Math.PI * 2);
                g.fillStyle = '#6b7280'; g.fill();
                g.strokeStyle = '#374151'; g.lineWidth = 1.5; g.stroke();

                g.fillStyle = '#374151'; g.font = 'bold 12px system-ui'; g.textAlign = 'left';
                g.fillText('s = ' + R2(curS) + ' m', 150, ballY + 4);
                g.fillText('t = ' + R2(curT) + ' s', 150, ballY + 20);

                if (progress < 1) requestAnimationFrame(draw);

            } else if (p.animType === 'ball-up') {
                var totalT = Math.abs(anim.u / anim.a) * 2;
                var animDur = Math.max(totalT, 2);
                var progress = Math.min(elapsed / animDur, 1);
                var curT = progress * totalT;
                var curS = anim.u * curT + 0.5 * anim.a * curT * curT;
                var frac = Math.max(0, curS / anim.s);

                // Ground
                g.fillStyle = '#10b981'; g.fillRect(0, H - 12, W, 12);

                // Max height line
                g.setLineDash([4, 4]); g.strokeStyle = '#d1d5db';
                g.beginPath(); g.moveTo(W / 2 - 60, 25); g.lineTo(W / 2 + 60, 25); g.stroke();
                g.setLineDash([]);
                g.fillStyle = '#9ca3af'; g.font = '10px system-ui'; g.textAlign = 'center';
                g.fillText('max height', W / 2, 20);

                // Ball
                var ballY = (H - 22) - (H - 50) * Math.min(frac, 1);
                g.beginPath(); g.arc(W / 2, ballY, 12, 0, Math.PI * 2);
                g.fillStyle = '#ef4444'; g.fill();
                g.strokeStyle = '#b91c1c'; g.lineWidth = 1.5; g.stroke();

                g.fillStyle = '#374151'; g.font = 'bold 12px system-ui'; g.textAlign = 'left';
                g.fillText('h = ' + R2(Math.max(0, curS)) + ' m', W / 2 + 25, ballY + 4);

                if (progress < 1) requestAnimationFrame(draw);

            } else if (p.animType === 'multi') {
                var stages = anim.stages;
                var totalT = 0;
                var totalS = 0;
                for (var si = 0; si < stages.length; si++) { totalT += stages[si].t; totalS += stages[si].s; }
                var animDur = Math.min(Math.max(totalT / 3, 3), 8);
                var progress = Math.min(elapsed / animDur, 1);
                var curAbsT = progress * totalT;

                var curS = 0, stageIdx = 0;
                var accT = 0;
                for (var si = 0; si < stages.length; si++) {
                    if (curAbsT <= accT + stages[si].t) {
                        stageIdx = si;
                        var st = curAbsT - accT;
                        curS += stages[si].u * st + 0.5 * stages[si].a * st * st;
                        break;
                    } else {
                        curS += stages[si].s;
                        accT += stages[si].t;
                        if (si === stages.length - 1) { stageIdx = si; curS = totalS; }
                    }
                }

                var trackY = H / 2 + 20;
                g.fillStyle = '#e5e7eb'; g.fillRect(30, trackY, W - 60, 6);

                // Stage dividers
                var cumS = 0;
                var stageColors = ['#fee2e2', '#dbeafe', '#d1fae5'];
                for (var si = 0; si < stages.length; si++) {
                    var prevCumS = cumS;
                    cumS += stages[si].s;
                    var x1 = 30 + (W - 60) * prevCumS / totalS;
                    var x2 = 30 + (W - 60) * cumS / totalS;
                    g.fillStyle = stageColors[si]; g.fillRect(x1, trackY - 2, x2 - x1, 10);
                    g.fillStyle = '#6b7280'; g.font = '10px system-ui'; g.textAlign = 'center';
                    g.fillText('Stage ' + (si + 1), (x1 + x2) / 2, trackY + 22);
                }

                // Car
                var carX = 30 + (W - 60) * Math.min(curS / totalS, 1);
                g.fillStyle = '#4361ee';
                g.fillRect(carX - 16, trackY - 18, 32, 16); g.fillRect(carX - 10, trackY - 28, 20, 12);
                g.fillStyle = '#374151';
                g.beginPath(); g.arc(carX - 10, trackY + 2, 4, 0, Math.PI * 2); g.fill();
                g.beginPath(); g.arc(carX + 10, trackY + 2, 4, 0, Math.PI * 2); g.fill();

                g.fillStyle = '#374151'; g.font = 'bold 12px system-ui'; g.textAlign = 'center';
                g.fillText('Stage ' + (stageIdx + 1) + ' | s = ' + R2(curS) + ' m', W / 2, 18);

                if (progress < 1) requestAnimationFrame(draw);

            } else {
                // Car on road
                var totalT = Math.abs(anim.t);
                var animDur = Math.min(Math.max(totalT / 3, 2), 8);
                var progress = Math.min(elapsed / animDur, 1);
                var curT = progress * totalT;
                var curS = anim.u * curT + 0.5 * anim.a * curT * curT;
                var totalS = Math.abs(anim.s) || 1;

                var trackY = H / 2 + 20;
                g.fillStyle = '#e5e7eb'; g.fillRect(30, trackY, W - 60, 6);
                // Distance markers
                g.fillStyle = '#d1d5db';
                for (var m = 0; m <= 10; m++) {
                    var mx = 30 + (W - 60) * m / 10;
                    g.fillRect(mx - 1, trackY - 4, 2, 14);
                }

                var carX = 30 + (W - 60) * Math.max(0, Math.min(curS / totalS, 1));
                g.fillStyle = '#4361ee';
                g.fillRect(carX - 16, trackY - 18, 32, 16); g.fillRect(carX - 10, trackY - 28, 20, 12);
                g.fillStyle = '#374151';
                g.beginPath(); g.arc(carX - 10, trackY + 2, 4, 0, Math.PI * 2); g.fill();
                g.beginPath(); g.arc(carX + 10, trackY + 2, 4, 0, Math.PI * 2); g.fill();

                var curV = anim.u + anim.a * curT;
                g.fillStyle = '#374151'; g.font = 'bold 12px system-ui'; g.textAlign = 'center';
                g.fillText('v = ' + R2(Math.max(0, curV)) + ' m/s  |  s = ' + R2(Math.max(0, curS)) + ' m', W / 2, 18);

                if (progress < 1) requestAnimationFrame(draw);
            }
        }
        draw();
    }

    // Navigation
    document.getElementById('wpPrev').addEventListener('click', function() { navigate(-1); });
    document.getElementById('wpNext').addEventListener('click', function() { navigate(1); });

    function navigate(dir) {
        document.getElementById('wp-' + current).classList.remove('active');
        current = Math.max(0, Math.min(problems.length - 1, current + dir));
        document.getElementById('wp-' + current).classList.add('active');
        document.getElementById('wpNum').textContent = current + 1;
        document.getElementById('wpPrev').disabled = current === 0;
        document.getElementById('wpNext').disabled = current === problems.length - 1;
    }

    buildProblems();
})();
</script>
</body>
</html>
