<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sacred Texts Comparator</title>
<style>
  :root {
    --bg-primary: #1a1030;
    --bg-secondary: #2a1f45;
    --bg-card: #362a54;
    --bg-surface: #241a3d;
    --text-primary: #f0e6d3;
    --text-secondary: #c4b89a;
    --text-muted: #8a7fa0;
    --gold: #d4a843;
    --gold-light: #f0d078;
    --gold-dim: #a08030;
    --christianity: #4a90d9;
    --islam: #2eab6f;
    --judaism: #d4a843;
    --hinduism: #e06040;
    --buddhism: #c070d0;
    --similarity-bg: rgba(212, 168, 67, 0.12);
    --difference-bg: rgba(224, 96, 64, 0.12);
    --border-radius: 10px;
    --shadow: 0 4px 20px rgba(0,0,0,0.3);
    --transition: 0.3s ease;
  }

  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    min-height: 100vh;
    line-height: 1.6;
  }

  /* Sticky header */
  .header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: linear-gradient(135deg, var(--bg-secondary), var(--bg-primary));
    border-bottom: 2px solid var(--gold-dim);
    padding: 16px 24px;
    text-align: center;
  }
  .header h1 {
    font-size: 1.7rem;
    color: var(--gold-light);
    letter-spacing: 1px;
    margin-bottom: 2px;
  }
  .header p {
    font-size: 0.9rem;
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }

  /* Theme tabs */
  .theme-tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    justify-content: center;
    padding: 14px 20px;
    background: var(--bg-surface);
    border-bottom: 1px solid rgba(212,168,67,0.15);
  }
  .theme-tab {
    padding: 8px 18px;
    border: 1px solid var(--gold-dim);
    border-radius: 20px;
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 0.85rem;
    transition: var(--transition);
    white-space: nowrap;
  }
  .theme-tab:hover {
    background: rgba(212,168,67,0.1);
    color: var(--gold-light);
  }
  .theme-tab.active {
    background: var(--gold-dim);
    color: #fff;
    border-color: var(--gold);
    font-weight: 600;
  }

  /* Toolbar */
  .toolbar {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: var(--bg-secondary);
    border-bottom: 1px solid rgba(212,168,67,0.1);
  }
  .tool-btn {
    padding: 7px 16px;
    border-radius: 6px;
    border: 1px solid var(--gold-dim);
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 0.82rem;
    transition: var(--transition);
  }
  .tool-btn:hover {
    background: rgba(212,168,67,0.12);
  }
  .tool-btn.active-sim {
    background: var(--similarity-bg);
    border-color: var(--gold);
    color: var(--gold-light);
    font-weight: 600;
  }
  .tool-btn.active-diff {
    background: var(--difference-bg);
    border-color: var(--hinduism);
    color: #f0a090;
    font-weight: 600;
  }

  .religion-toggles {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    justify-content: center;
  }
  .rel-toggle {
    padding: 5px 12px;
    border-radius: 14px;
    border: 2px solid;
    cursor: pointer;
    font-size: 0.78rem;
    font-weight: 600;
    transition: var(--transition);
    background: transparent;
  }
  .rel-toggle:hover {
    filter: brightness(1.2);
  }
  .rel-toggle.off {
    opacity: 0.3;
  }

  .sep {
    width: 1px;
    height: 24px;
    background: var(--gold-dim);
    margin: 0 4px;
    flex-shrink: 0;
  }

  /* Visible count indicator */
  .visible-count {
    font-size: 0.78rem;
    color: var(--text-muted);
    padding: 4px 10px;
  }

  /* Cards grid */
  .cards-container {
    display: flex;
    flex-wrap: wrap;
    gap: 18px;
    padding: 24px 20px;
    justify-content: center;
    max-width: 1440px;
    margin: 0 auto;
    position: relative;
  }

  .card {
    flex: 1 1 250px;
    max-width: 320px;
    background: var(--bg-card);
    border-radius: var(--border-radius);
    border-top: 4px solid;
    box-shadow: var(--shadow);
    padding: 20px;
    transition: var(--transition);
    position: relative;
    animation: fadeIn 0.35s ease;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .card.hidden-card {
    display: none;
  }
  .card.highlight-sim {
    box-shadow: 0 0 0 2px var(--gold), var(--shadow);
    background: rgba(54,42,84,0.95);
  }
  .card.highlight-diff {
    box-shadow: 0 0 0 2px var(--hinduism), var(--shadow);
  }

  .card[data-religion="christianity"] { border-top-color: var(--christianity); }
  .card[data-religion="islam"] { border-top-color: var(--islam); }
  .card[data-religion="judaism"] { border-top-color: var(--judaism); }
  .card[data-religion="hinduism"] { border-top-color: var(--hinduism); }
  .card[data-religion="buddhism"] { border-top-color: var(--buddhism); }

  .card-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 14px;
    padding-bottom: 10px;
    border-bottom: 1px solid rgba(255,255,255,0.08);
  }
  .card-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    flex-shrink: 0;
  }
  .card[data-religion="christianity"] .card-icon { background: rgba(74,144,217,0.2); }
  .card[data-religion="islam"] .card-icon { background: rgba(46,171,111,0.2); }
  .card[data-religion="judaism"] .card-icon { background: rgba(212,168,67,0.2); }
  .card[data-religion="hinduism"] .card-icon { background: rgba(224,96,64,0.2); }
  .card[data-religion="buddhism"] .card-icon { background: rgba(192,112,208,0.2); }

  .card-title {
    font-size: 1.05rem;
    font-weight: 700;
  }
  .card-scripture {
    font-size: 0.72rem;
    color: var(--text-muted);
    margin-top: 2px;
  }
  .card[data-religion="christianity"] .card-title { color: var(--christianity); }
  .card[data-religion="islam"] .card-title { color: var(--islam); }
  .card[data-religion="judaism"] .card-title { color: var(--judaism); }
  .card[data-religion="hinduism"] .card-title { color: var(--hinduism); }
  .card[data-religion="buddhism"] .card-title { color: var(--buddhism); }

  .card-teaching {
    font-size: 0.88rem;
    color: var(--text-primary);
    margin-bottom: 14px;
    line-height: 1.65;
  }

  .card-quote {
    font-style: italic;
    font-size: 0.84rem;
    color: var(--gold-light);
    padding: 10px 14px;
    background: rgba(212,168,67,0.08);
    border-left: 3px solid var(--gold-dim);
    border-radius: 0 6px 6px 0;
    margin-bottom: 14px;
    line-height: 1.55;
  }
  .card-ref {
    display: block;
    font-style: normal;
    font-size: 0.72rem;
    color: var(--text-muted);
    margin-top: 6px;
  }

  .card-concepts {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
  }
  .concept-tag {
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 0.72rem;
    font-weight: 600;
    background: rgba(255,255,255,0.06);
    color: var(--text-secondary);
    border: 1px solid rgba(255,255,255,0.08);
  }

  /* Similarity/Difference overlay banners */
  .overlay-banner {
    display: none;
    text-align: center;
    padding: 16px 24px;
    border-radius: var(--border-radius);
    font-size: 0.9rem;
    line-height: 1.65;
    max-width: 1440px;
    margin: 12px auto 0;
    padding-left: 20px;
    padding-right: 20px;
  }
  .overlay-banner.show {
    display: block;
  }
  .overlay-banner.sim-banner {
    background: var(--similarity-bg);
    border: 1px solid var(--gold-dim);
    color: var(--gold-light);
    margin-left: 20px;
    margin-right: 20px;
  }
  .overlay-banner.diff-banner {
    background: var(--difference-bg);
    border: 1px solid rgba(224,96,64,0.4);
    color: #f0a090;
    margin-left: 20px;
    margin-right: 20px;
  }
  .overlay-banner strong {
    display: block;
    margin-bottom: 4px;
    font-size: 0.95rem;
  }

  /* Analysis prompts section */
  .analysis-section {
    max-width: 1440px;
    margin: 24px auto;
    padding: 0 20px;
  }
  .analysis-box {
    background: var(--bg-surface);
    border: 1px solid rgba(212,168,67,0.15);
    border-radius: var(--border-radius);
    padding: 22px;
  }
  .analysis-box h3 {
    color: var(--gold);
    font-size: 1rem;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .analysis-box h3::before {
    content: '\1F4AD';
    font-size: 1.1rem;
  }
  .prompt-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  .prompt-list li {
    padding: 10px 14px;
    background: rgba(212,168,67,0.06);
    border-radius: 6px;
    font-size: 0.88rem;
    color: var(--text-secondary);
    border-left: 3px solid var(--gold-dim);
    line-height: 1.5;
  }
  .prompt-list li strong {
    color: var(--gold);
    margin-right: 6px;
  }

  /* Info panel */
  .info-toggle {
    display: block;
    margin: 24px auto 0;
    padding: 10px 24px;
    border-radius: 20px;
    border: 1px solid var(--gold-dim);
    background: transparent;
    color: var(--gold-light);
    cursor: pointer;
    font-size: 0.85rem;
    transition: var(--transition);
  }
  .info-toggle:hover {
    background: rgba(212,168,67,0.1);
  }

  .info-panel {
    max-width: 900px;
    margin: 14px auto 28px;
    padding: 0 20px;
    display: none;
  }
  .info-panel.open {
    display: block;
    animation: fadeIn 0.3s ease;
  }
  .info-content {
    background: var(--bg-surface);
    border: 1px solid rgba(212,168,67,0.15);
    border-radius: var(--border-radius);
    padding: 26px;
  }
  .info-content h3 {
    color: var(--gold);
    margin-bottom: 10px;
    font-size: 1rem;
  }
  .info-content p,
  .info-content li {
    font-size: 0.88rem;
    color: var(--text-secondary);
    line-height: 1.65;
    margin-bottom: 8px;
  }
  .info-content ul {
    margin-left: 18px;
    margin-bottom: 14px;
  }
  .info-content .info-heading {
    margin-top: 18px;
    padding-top: 16px;
    border-top: 1px solid rgba(255,255,255,0.06);
  }
  .info-content .info-note {
    background: rgba(212,168,67,0.06);
    border-left: 3px solid var(--gold-dim);
    padding: 10px 14px;
    border-radius: 0 6px 6px 0;
    margin-top: 12px;
    font-size: 0.85rem;
    color: var(--text-muted);
    line-height: 1.6;
  }

  /* Footer */
  .footer {
    text-align: center;
    padding: 22px 20px;
    font-size: 0.75rem;
    color: var(--text-muted);
    border-top: 1px solid rgba(212,168,67,0.1);
    margin-top: 10px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .header h1 { font-size: 1.3rem; }
    .header p { font-size: 0.82rem; }
    .cards-container { padding: 14px 10px; gap: 12px; }
    .card { max-width: 100%; flex-basis: 100%; }
    .theme-tabs { padding: 10px 12px; }
    .theme-tab { padding: 6px 12px; font-size: 0.8rem; }
    .toolbar { padding: 10px 12px; }
    .sep { display: none; }
    .overlay-banner { margin-left: 10px; margin-right: 10px; }
    .analysis-section { padding: 0 10px; }
  }

  @media (max-width: 480px) {
    .header { padding: 12px 14px; }
    .header h1 { font-size: 1.15rem; }
    .card { padding: 16px; }
    .theme-tab { padding: 5px 10px; font-size: 0.75rem; }
    .rel-toggle { font-size: 0.7rem; padding: 4px 8px; }
  }
</style>
</head>
<body>

<header class="header">
  <h1>Sacred Texts Comparator</h1>
  <p>Side-by-side comparison of how different religious traditions address the same fundamental human questions</p>
</header>

<nav class="theme-tabs" id="themeTabs"></nav>

<div class="toolbar">
  <div class="religion-toggles" id="religionToggles"></div>
  <div class="sep"></div>
  <button class="tool-btn" id="btnSim" onclick="toggleSimilarities()">Similarities</button>
  <button class="tool-btn" id="btnDiff" onclick="toggleDifferences()">Differences</button>
  <span class="visible-count" id="visibleCount"></span>
</div>

<div class="overlay-banner sim-banner" id="simBanner"></div>
<div class="overlay-banner diff-banner" id="diffBanner"></div>

<main class="cards-container" id="cardsContainer"></main>

<section class="analysis-section">
  <div class="analysis-box">
    <h3>Analysis Prompts</h3>
    <ul class="prompt-list" id="promptList"></ul>
  </div>
</section>

<button class="info-toggle" id="infoToggleBtn" onclick="toggleInfo()">About Comparative Study</button>

<div class="info-panel" id="infoPanel">
  <div class="info-content">
    <h3>Why Compare Religious Traditions?</h3>
    <p>
      Comparative religious study helps us understand the diversity of human responses
      to life's deepest questions. By examining different traditions side by side, we
      can appreciate both the common ground shared across cultures and the distinctive
      insights each tradition offers. This is a core part of Religious Education at
      GCSE and A-Level.
    </p>
    <p>
      This approach fosters empathy, critical thinking, and a deeper understanding of
      the communities that make up our world. It also helps students engage with
      philosophical arguments about the nature of God, the problem of evil, and the
      foundations of morality.
    </p>

    <h3 class="info-heading">How to Compare Respectfully</h3>
    <ul>
      <li>Treat each tradition on its own terms. Avoid ranking religions as "better" or "worse".</li>
      <li>Recognise that brief summaries cannot capture the full depth of any tradition.</li>
      <li>Be aware that each religion contains diverse interpretations, schools, and denominations.</li>
      <li>Use accurate terminology from within each tradition where possible.</li>
      <li>Acknowledge that sacred texts are often interpreted in many different ways by believers.</li>
      <li>Remember that what may seem similar on the surface can have very different meanings in context.</li>
    </ul>

    <h3 class="info-heading">Insider vs Outsider Perspectives</h3>
    <p>
      An <strong>insider (emic) perspective</strong> is the understanding of a religion
      from a practitioner's point of view: how it is lived, experienced, and felt.
      An <strong>outsider (etic) perspective</strong> comes from academic observation
      and analysis. Both are valuable and necessary for good religious studies.
    </p>
    <p>
      This tool takes primarily an academic approach. However, always remember that for
      believers, these texts carry profound personal and spiritual significance that a
      summary cannot fully convey. Good religious studies combines both perspectives:
      understanding how adherents experience their faith, while also making fair and
      informed comparisons across traditions.
    </p>
    <div class="info-note">
      Note: The quotations and paraphrases used in this tool are for educational
      purposes. Each tradition's sacred texts are rich and complex; students are
      encouraged to read wider extracts and engage with scholarly commentary for
      deeper understanding.
    </div>
  </div>
</div>

<footer class="footer">
  Sacred Texts Comparator &mdash; for educational use in Religious Education
</footer>

<script>
/* ===== Religion definitions ===== */
const RELIGIONS = [
  { id: 'christianity', name: 'Christianity', icon: '\u271E', scripture: 'The Bible', color: '#4a90d9' },
  { id: 'islam', name: 'Islam', icon: '\u262A', scripture: 'The Quran', color: '#2eab6f' },
  { id: 'judaism', name: 'Judaism', icon: '\u2721', scripture: 'Torah / Talmud', color: '#d4a843' },
  { id: 'hinduism', name: 'Hinduism', icon: '\u0950', scripture: 'Vedas / Bhagavad Gita', color: '#e06040' },
  { id: 'buddhism', name: 'Buddhism', icon: '\u2638', scripture: 'Tripitaka / Dhammapada', color: '#c070d0' }
];

/* ===== Theme data ===== */
const THEMES = {
  creation: {
    label: 'Creation',
    similarities: 'Most traditions affirm that the universe has purpose and order rather than arising from mere chance. Several describe creation emerging from a divine will or cosmic principle, and many emphasise humanity\'s special role or responsibility within the created order.',
    differences: 'The Abrahamic faiths (Christianity, Islam, Judaism) describe creation by a single personal God who creates from nothing. Hinduism presents multiple creation accounts including cycles of creation and dissolution. Buddhism focuses less on cosmic origins and more on the nature of existence itself, setting it apart from the other traditions.',
    prompts: [
      { type: 'Common ground', text: 'What do these traditions have in common regarding the purpose of creation?' },
      { type: 'Key differences', text: 'How do monotheistic and non-theistic views of creation differ?' },
      { type: 'Critical thinking', text: 'Why might different cultures develop different creation narratives?' },
      { type: 'Analysis', text: 'What role do humans play in each tradition\'s account of creation, and why does this matter?' }
    ],
    cards: {
      christianity: {
        teaching: 'God created the universe from nothing (creatio ex nihilo) in a purposeful act of divine will. Humans are made in God\'s image (imago Dei), given stewardship over creation. The creation is declared "good" by God, establishing the world as meaningful and ordered.',
        quote: 'In the beginning God created the heavens and the earth. Now the earth was formless and empty, darkness was over the surface of the deep.',
        ref: 'Genesis 1:1-2',
        concepts: ['Creatio ex nihilo', 'Imago Dei', 'Stewardship', 'Original goodness']
      },
      islam: {
        teaching: 'Allah created the heavens and earth in six periods (yawm). Creation is an act of divine command ("Be, and it is"). Humans are Allah\'s khalifah (stewards/representatives) on earth, made from clay and given a soul. The entire creation testifies to Allah\'s power and wisdom.',
        quote: 'He is the Originator of the heavens and the earth. When He decrees a matter, He only says to it, "Be," and it is.',
        ref: 'Surah Al-Baqarah 2:117',
        concepts: ['Khalifah', 'Kun fayakun', 'Tawhid', 'Fitrah']
      },
      judaism: {
        teaching: 'God creates through divine speech over six days, resting on the seventh (Shabbat). Humans are made b\'tselem Elohim (in the image of God). The Torah presents creation as an ordered, intentional act that establishes a covenant relationship between God and humanity.',
        quote: 'And God said, "Let there be light," and there was light. God saw that the light was good.',
        ref: 'Genesis / Bereishit 1:3-4',
        concepts: ['B\'tselem Elohim', 'Shabbat', 'Tikkun Olam', 'Divine speech']
      },
      hinduism: {
        teaching: 'Multiple creation accounts exist across Hindu scriptures. Brahman is the ultimate reality from which all creation emanates. The universe undergoes endless cycles of creation (srishti), preservation (sthiti), and dissolution (pralaya). Some hymns describe creation arising from cosmic sacrifice or divine thought.',
        quote: 'From Brahman arose space; from space, air; from air, fire; from fire, water; from water, earth.',
        ref: 'Taittiriya Upanishad 2.1',
        concepts: ['Brahman', 'Srishti', 'Trimurti', 'Cyclic creation']
      },
      buddhism: {
        teaching: 'The Buddha considered questions about the ultimate origin of the universe to be largely unhelpful for the urgent task of ending suffering. Existence is characterised by dependent origination (paticcasamuppada): everything arises from conditions, and nothing has independent, fixed existence. There is no creator God in Buddhist teaching.',
        quote: 'When this exists, that comes to be; with the arising of this, that arises. When this does not exist, that does not come to be.',
        ref: 'Samyutta Nikaya 12.61',
        concepts: ['Dependent origination', 'Anicca', 'No creator God', 'Conditionality']
      }
    }
  },

  afterlife: {
    label: 'Afterlife',
    similarities: 'Most traditions teach that actions in this life have consequences beyond death. The concept of moral accountability, whether through divine judgement, karma, or spiritual progression, is widely shared. Several traditions describe the afterlife in terms of closeness to or distance from the divine or from ultimate truth.',
    differences: 'Christianity, Islam, and Judaism teach a broadly linear afterlife with divine judgement leading to eternal outcomes. Hinduism and Buddhism describe cycles of rebirth (samsara) shaped by karma. The goal in Dharmic traditions is liberation from the cycle, while Abrahamic faiths focus on eternal life in God\'s presence.',
    prompts: [
      { type: 'Common ground', text: 'What do these traditions have in common about moral accountability after death?' },
      { type: 'Key differences', text: 'How do linear (one life) and cyclical (rebirth) views of the afterlife compare?' },
      { type: 'Critical thinking', text: 'Why might these traditions agree that how we live matters beyond this life?' },
      { type: 'Analysis', text: 'What do the different afterlife concepts reveal about each religion\'s understanding of justice and mercy?' }
    ],
    cards: {
      christianity: {
        teaching: 'Christians believe in bodily resurrection and final judgement. Through faith in Christ, believers receive eternal life in God\'s presence (heaven). Many traditions also teach about hell as separation from God. Views on the nature of judgement and the afterlife vary across denominations.',
        quote: 'For God so loved the world that he gave his one and only Son, that whoever believes in him shall not perish but have eternal life.',
        ref: 'John 3:16',
        concepts: ['Resurrection', 'Judgement', 'Heaven', 'Salvation', 'Grace']
      },
      islam: {
        teaching: 'Muslims believe in Akhirah (the afterlife) and Yawm al-Din (Day of Judgement). All deeds are recorded by angels and weighed on scales of justice. The righteous enter Jannah (paradise), while the unjust face Jahannam (hell). Allah\'s mercy is central and can encompass any soul.',
        quote: 'Every soul will taste death, and you will only be given your full compensation on the Day of Resurrection.',
        ref: 'Surah Al-Imran 3:185',
        concepts: ['Akhirah', 'Yawm al-Din', 'Jannah', 'Jahannam', 'Scales of deeds']
      },
      judaism: {
        teaching: 'Jewish views of the afterlife are notably diverse. The Torah focuses primarily on this life and righteous living. Later traditions describe Olam Ha-Ba (the World to Come), Gan Eden (paradise), and Gehinnom (a place of purification, not eternal punishment). The emphasis remains on living well in the present.',
        quote: 'The dust returns to the ground it came from, and the spirit returns to God who gave it.',
        ref: 'Ecclesiastes / Kohelet 12:7',
        concepts: ['Olam Ha-Ba', 'Gan Eden', 'Gehinnom', 'Resurrection of the dead']
      },
      hinduism: {
        teaching: 'The atman (soul) is eternal and undergoes samsara (the cycle of rebirth) based on karma accumulated through actions. The ultimate goal is moksha: liberation from the cycle and union with or experience of Brahman. The form of rebirth is shaped by one\'s accumulated actions and spiritual development.',
        quote: 'As a person puts on new garments, giving up old ones, the soul similarly accepts new material bodies, giving up the old and useless ones.',
        ref: 'Bhagavad Gita 2:22',
        concepts: ['Samsara', 'Karma', 'Moksha', 'Atman', 'Reincarnation']
      },
      buddhism: {
        teaching: 'Buddhists teach rebirth (not reincarnation of a fixed soul, since there is no permanent self) driven by karma and craving (tanha). The cycle of samsara continues until one attains Nibbana (Nirvana): the cessation of suffering and the complete end of the rebirth cycle. Consciousness continues but no permanent "self" transmigrates.',
        quote: 'There is, monks, an unborn, unbecome, unmade, unconditioned. If there were not, no escape would be discerned from what is born, become, made, conditioned.',
        ref: 'Udana 8.3',
        concepts: ['Samsara', 'Karma', 'Nibbana', 'Anatta', 'Rebirth']
      }
    }
  },

  morality: {
    label: 'Morality / Ethics',
    similarities: 'A version of the Golden Rule appears across all five traditions. Compassion, justice, honesty, and care for the vulnerable are universally valued. Most traditions ground ethical behaviour in a higher principle: whether divine command, cosmic law, or the pursuit of wisdom and compassion.',
    differences: 'Abrahamic faiths tend to ground morality in divine command and revealed scripture. Hinduism frames ethics through dharma (duty), which varies according to context, stage of life, and social role. Buddhism derives ethics from the principle of reducing suffering through wisdom and compassion, without reference to a divine lawgiver.',
    prompts: [
      { type: 'Common ground', text: 'What do these traditions have in common about treating others well?' },
      { type: 'Key differences', text: 'How do "divine command" and "natural law" approaches to ethics differ?' },
      { type: 'Critical thinking', text: 'Why might the Golden Rule appear independently across so many separate traditions?' },
      { type: 'Analysis', text: 'How does each tradition balance the demands of justice with the virtue of mercy?' }
    ],
    cards: {
      christianity: {
        teaching: 'Christian ethics centre on love of God and love of neighbour, summarised in Christ\'s two great commandments. The Ten Commandments provide a foundational moral framework. Jesus\' Sermon on the Mount expands ethical teaching beyond actions to intentions, attitudes, and the state of the heart.',
        quote: 'So in everything, do to others what you would have them do to you, for this sums up the Law and the Prophets.',
        ref: 'Matthew 7:12',
        concepts: ['Agape love', 'Ten Commandments', 'Sermon on the Mount', 'Grace']
      },
      islam: {
        teaching: 'Islamic ethics are rooted in the Quran and Sunnah (the Prophet\'s example). The Shariah provides moral and legal guidance for all aspects of life. Key principles include justice (adl), benevolence and excellence (ihsan), and the understanding that all actions are accountable to Allah.',
        quote: 'Indeed, Allah orders justice and good conduct and giving to relatives and forbids immorality and bad conduct and oppression.',
        ref: 'Surah An-Nahl 16:90',
        concepts: ['Shariah', 'Adl (justice)', 'Ihsan', 'Halal and Haram']
      },
      judaism: {
        teaching: 'Jewish ethics are founded on the 613 mitzvot (commandments) of the Torah. Central principles include justice (tzedek), loving-kindness (chesed), and the duty to repair the world (tikkun olam). The Talmud extensively debates how to apply these ethical principles in specific situations.',
        quote: 'What is hateful to you, do not do to your neighbour. That is the whole Torah; the rest is commentary.',
        ref: 'Babylonian Talmud, Shabbat 31a (Hillel)',
        concepts: ['Mitzvot', 'Tzedek', 'Chesed', 'Tikkun Olam']
      },
      hinduism: {
        teaching: 'Hindu ethics are guided by dharma (righteous duty), which varies by one\'s stage of life (ashrama) and social role. Ahimsa (non-violence) is a core value shared across Hindu traditions. The Bhagavad Gita teaches selfless action (nishkama karma): doing one\'s duty without attachment to results.',
        quote: 'You have a right to perform your prescribed duties, but you are not entitled to the fruits of your actions.',
        ref: 'Bhagavad Gita 2:47',
        concepts: ['Dharma', 'Ahimsa', 'Nishkama Karma', 'Satya (truth)']
      },
      buddhism: {
        teaching: 'Buddhist ethics are founded on the Five Precepts and the Noble Eightfold Path. Right action, right speech, and right livelihood guide moral conduct in daily life. All ethics stem from compassion (karuna) and wisdom (prajna), aimed at reducing suffering for all sentient beings without exception.',
        quote: 'Hatred is never appeased by hatred in this world. By non-hatred alone is hatred appeased. This is an eternal law.',
        ref: 'Dhammapada, verse 5',
        concepts: ['Five Precepts', 'Eightfold Path', 'Karuna', 'Sila (ethics)']
      }
    }
  },

  suffering: {
    label: 'Suffering',
    similarities: 'All traditions acknowledge that suffering is a fundamental part of the human experience. Most teach that suffering can have meaning or purpose, and that compassion towards those who suffer is a central virtue. Several traditions see suffering as an opportunity for spiritual growth, self-knowledge, or moral development.',
    differences: 'Christianity often frames suffering through the Fall and redemption through Christ\'s cross. Islam views suffering primarily as a test from Allah. Judaism wrestles openly with suffering (especially in the Book of Job). Hinduism links suffering to karma and attachment to the material. Buddhism places suffering at the very centre of its teaching as the First Noble Truth.',
    prompts: [
      { type: 'Common ground', text: 'What do these traditions have in common about finding meaning in suffering?' },
      { type: 'Key differences', text: 'How do "test from God" and "result of karma" explanations of suffering compare?' },
      { type: 'Critical thinking', text: 'Why might all major religions feel the need to address the problem of suffering?' },
      { type: 'Analysis', text: 'How does each tradition recommend that people respond to the suffering of others?' }
    ],
    cards: {
      christianity: {
        teaching: 'Suffering entered the world through the Fall (original sin). Christ\'s suffering on the cross provides redemption and hope for all humanity. Christians are called to trust God in suffering, to serve those who suffer, and to look forward to a world restored. Suffering can deepen faith and bring believers closer to God.',
        quote: 'And we know that in all things God works for the good of those who love him, who have been called according to his purpose.',
        ref: 'Romans 8:28',
        concepts: ['The Fall', 'Redemptive suffering', 'Theodicy', 'Hope']
      },
      islam: {
        teaching: 'Suffering is understood as a test (ibtila) from Allah to strengthen faith and purify the soul. Patience (sabr) in the face of suffering is greatly rewarded in the afterlife. Muslims believe that nothing happens outside Allah\'s will (qadr), and that trials are always part of a greater divine plan that humans may not fully understand.',
        quote: 'And We will surely test you with something of fear and hunger and a loss of wealth and lives and fruits, but give good tidings to the patient.',
        ref: 'Surah Al-Baqarah 2:155',
        concepts: ['Sabr (patience)', 'Ibtila (test)', 'Qadr (divine decree)', 'Trust in Allah']
      },
      judaism: {
        teaching: 'Judaism engages deeply and honestly with the problem of suffering, most notably in the Book of Job. Suffering may be a test, a consequence of human freedom, or ultimately beyond full human understanding. The emphasis is on righteous response: compassion, justice, charitable giving (tzedakah), and continued trust in God.',
        quote: 'Though He slay me, yet will I trust in Him; but I will argue my ways before Him.',
        ref: 'Job 13:15',
        concepts: ['Theodicy', 'Free will', 'Book of Job', 'Tzedakah']
      },
      hinduism: {
        teaching: 'Suffering (dukkha) arises from karma (the consequences of past actions) and attachment to the material world (maya). It is an inherent part of the cycle of samsara. Liberation comes through spiritual knowledge (jnana), devotion (bhakti), or selfless action (karma yoga). Suffering is not meaningless but serves spiritual development and growth.',
        quote: 'One who has control over the mind is tranquil in heat and cold, in pleasure and pain, and in honour and dishonour.',
        ref: 'Bhagavad Gita 6:7',
        concepts: ['Karma', 'Maya', 'Detachment', 'Moksha']
      },
      buddhism: {
        teaching: 'The First Noble Truth states that suffering (dukkha) is inherent in all conditioned existence. The Second identifies craving (tanha) as its origin. The Third promises its cessation is possible. The Fourth prescribes the Noble Eightfold Path as the practical way to end suffering. Understanding suffering is the essential starting point of the Buddhist path.',
        quote: 'Birth is suffering, ageing is suffering, illness is suffering, death is suffering; association with the unpleasant is suffering.',
        ref: 'Dhammacakkappavattana Sutta (SN 56.11)',
        concepts: ['Four Noble Truths', 'Dukkha', 'Tanha (craving)', 'Eightfold Path']
      }
    }
  },

  prayer: {
    label: 'Prayer / Worship',
    similarities: 'All traditions practise regular, structured forms of spiritual communication or contemplation. Worship typically includes community gathering, personal devotion, engagement with sacred texts or chanting, and specific postures or rituals. Most traditions recognise the importance of both communal worship and private spiritual practice.',
    differences: 'Abrahamic traditions typically involve direct personal communication with a personal God through structured and spontaneous prayer. Hindu worship (puja) includes devotion to specific deities with offerings, rituals, and mantras. Buddhist practice centres on meditation and mindfulness rather than petitionary prayer to a creator deity.',
    prompts: [
      { type: 'Common ground', text: 'What do these traditions have in common about the purpose of prayer or worship?' },
      { type: 'Key differences', text: 'How do traditions that pray "to God" differ from those that primarily practise meditation?' },
      { type: 'Critical thinking', text: 'Why might regular spiritual practice be considered important across all traditions?' },
      { type: 'Analysis', text: 'How does communal worship differ from private devotion in each tradition, and why might both matter?' }
    ],
    cards: {
      christianity: {
        teaching: 'Christians pray directly to God, following Jesus\' model in the Lord\'s Prayer. Worship includes communal services, hymns and songs, reading Scripture, and sacraments (especially the Eucharist/Holy Communion). Prayer can be formal and liturgical or spontaneous and personal, and is understood as a living relationship with God.',
        quote: 'Our Father in heaven, hallowed be your name, your kingdom come, your will be done, on earth as it is in heaven.',
        ref: 'Matthew 6:9-10',
        concepts: ['Lord\'s Prayer', 'Eucharist', 'Liturgy', 'Personal prayer']
      },
      islam: {
        teaching: 'Salah (prayer five times daily) is one of the Five Pillars of Islam. Muslims face Makkah, perform specific postures (raka\'at), and recite Quranic verses in Arabic. Friday congregational prayer (Jumu\'ah) is especially significant. Du\'a (personal supplication) complements the structured daily prayers.',
        quote: 'Indeed, prayer prohibits immorality and wrongdoing, and the remembrance of Allah is greater.',
        ref: 'Surah Al-Ankabut 29:45',
        concepts: ['Salah', 'Five Pillars', 'Jumu\'ah', 'Du\'a', 'Wudu']
      },
      judaism: {
        teaching: 'Jewish prayer follows structured daily services (Shacharit, Mincha, Ma\'ariv). The Shema is the central declaration of faith, recited morning and evening. Shabbat worship is the weekly highlight, marking rest and renewal. Prayer uses a siddur (prayer book) and includes blessings (berakhot), psalms, and Torah readings.',
        quote: 'Hear, O Israel: the Lord our God, the Lord is one. Love the Lord your God with all your heart and with all your soul and with all your strength.',
        ref: 'Deuteronomy / Devarim 6:4-5 (The Shema)',
        concepts: ['Shema', 'Siddur', 'Shabbat', 'Minyan', 'Berakhot']
      },
      hinduism: {
        teaching: 'Hindu worship (puja) includes offerings of flowers, incense, food, and light (arti) to deities represented by images (murti). Bhakti (devotion) involves chanting mantras, singing devotional songs (bhajans), and personal meditation or contemplation. Both temple worship and home shrines are central to Hindu life. Yoga is also a spiritual practice.',
        quote: 'Whatever you do, whatever you eat, whatever you offer in sacrifice, whatever you give away, whatever penance you practise, do it as an offering to Me.',
        ref: 'Bhagavad Gita 9:27',
        concepts: ['Puja', 'Bhakti', 'Mantra', 'Murti', 'Arti']
      },
      buddhism: {
        teaching: 'Buddhist practice centres on meditation (bhavana), including mindfulness of breathing (anapanasati) and insight meditation (vipassana). Chanting suttas, paying respect at shrines, and making offerings are common devotional practices. Worship is not directed at a creator God but cultivates wisdom, compassion, and mental clarity. The Sangha (community) supports practice.',
        quote: 'Meditate, monk, do not be negligent. Do not let your mind whirl on sensual pleasures.',
        ref: 'Dhammapada, verse 371',
        concepts: ['Bhavana', 'Sati', 'Vipassana', 'Sangha', 'Chanting']
      }
    }
  },

  divine: {
    label: 'Nature of God / the Divine',
    similarities: 'Most traditions affirm an ultimate reality that transcends ordinary human understanding. Many describe this reality as the source of moral order, meaning, and purpose in the universe. Several traditions emphasise both the transcendence (beyond the world) and immanence (present within the world) of the divine or ultimate reality.',
    differences: 'Christianity teaches a Trinitarian God (Father, Son, Holy Spirit). Islam emphasises strict monotheism (Tawhid) with no division in God\'s nature. Judaism holds to absolute monotheism with a personal, covenantal God. Hinduism encompasses diverse views from personal monotheism to impersonal monism to devotional polytheism. Buddhism does not teach a creator God, focusing instead on the nature of mind, reality, and liberation.',
    prompts: [
      { type: 'Common ground', text: 'What do these traditions have in common about the nature of ultimate reality?' },
      { type: 'Key differences', text: 'How do personal (theistic) and impersonal views of the divine or ultimate reality compare?' },
      { type: 'Critical thinking', text: 'Why might some traditions reject or fundamentally redefine the concept of "God"?' },
      { type: 'Analysis', text: 'How does each tradition\'s understanding of God or ultimate reality shape its approach to worship, ethics, and daily life?' }
    ],
    cards: {
      christianity: {
        teaching: 'Christians believe in one God who exists eternally as the Trinity: Father, Son (Jesus Christ), and Holy Spirit. God is personal, loving, omnipotent, omniscient, and morally perfect. God is both transcendent (beyond creation) and immanent (present within creation through the Holy Spirit). The Incarnation of Christ reveals God\'s nature most fully.',
        quote: 'May the grace of the Lord Jesus Christ, and the love of God, and the fellowship of the Holy Spirit be with you all.',
        ref: '2 Corinthians 13:14',
        concepts: ['Trinity', 'Omnipotence', 'Incarnation', 'Agape', 'Transcendence']
      },
      islam: {
        teaching: 'Allah is absolutely one (Tawhid), with no partners, divisions, or equals. This is the most fundamental principle in Islam. Allah possesses 99 Beautiful Names (al-Asma al-Husna) describing divine attributes such as mercy, justice, and power. God is beyond human comprehension yet intimately close. Shirk (associating others with God) is the gravest sin.',
        quote: 'Say, "He is Allah, the One. Allah, the Eternal Refuge. He neither begets nor is born, nor is there to Him any equivalent."',
        ref: 'Surah Al-Ikhlas 112:1-4',
        concepts: ['Tawhid', '99 Names', 'Shirk', 'Transcendence', 'Immanence']
      },
      judaism: {
        teaching: 'God is one, indivisible, incorporeal (without physical form), and beyond full human comprehension. The Shema declares God\'s absolute oneness. God is personal and relational, entering into covenant with Israel and acting in human history. God\'s name (YHWH) is considered so sacred that it is not spoken aloud in worship.',
        quote: 'I am the Lord your God, who brought you out of the land of Egypt, out of the house of bondage. You shall have no other gods before Me.',
        ref: 'Exodus / Shemot 20:2-3',
        concepts: ['Monotheism', 'YHWH', 'Covenant', 'Ein Sof', 'Shekinah']
      },
      hinduism: {
        teaching: 'Brahman is the ultimate, infinite reality underlying and pervading all existence. Brahman manifests in many forms, including Brahma (creator), Vishnu (preserver), and Shiva (transformer). Some traditions are devotionally monotheistic (worshipping one supreme deity such as Vishnu or Shiva); others see all deities as aspects of the one Brahman. The atman (individual soul) is ultimately connected to Brahman.',
        quote: 'Brahman is truth, the world is appearance. The individual self is not different from Brahman.',
        ref: 'Vivekachudamani (attributed to Adi Shankara, summarising Advaita Vedanta)',
        concepts: ['Brahman', 'Trimurti', 'Avatar', 'Atman', 'Monism']
      },
      buddhism: {
        teaching: 'Buddhism does not teach a creator God or supreme personal being. The Buddha focused on understanding the nature of mind, the causes of suffering, and the path to liberation. Ultimate reality is characterised by impermanence (anicca), suffering (dukkha), and non-self (anatta). Some Mahayana traditions revere celestial Buddhas and bodhisattvas, but these are not creator deities.',
        quote: 'All conditioned things are impermanent. When one sees this with wisdom, one turns away from suffering.',
        ref: 'Dhammapada, verse 277',
        concepts: ['Anatta', 'Sunyata', 'No creator God', 'Buddha-nature', 'Three Marks']
      }
    }
  }
};

/* ===== Application state ===== */
let activeTheme = 'creation';
let religionVisible = {
  christianity: true,
  islam: true,
  judaism: true,
  hinduism: true,
  buddhism: true
};
let showSim = false;
let showDiff = false;

/* ===== Initialisation ===== */
function init() {
  buildThemeTabs();
  buildReligionToggles();
  render();
}

function buildThemeTabs() {
  const container = document.getElementById('themeTabs');
  const themeKeys = Object.keys(THEMES);

  themeKeys.forEach(function(key) {
    var btn = document.createElement('button');
    btn.className = 'theme-tab' + (key === activeTheme ? ' active' : '');
    btn.textContent = THEMES[key].label;
    btn.setAttribute('data-theme', key);

    btn.addEventListener('click', function() {
      activeTheme = key;
      showSim = false;
      showDiff = false;
      document.querySelectorAll('.theme-tab').forEach(function(t) {
        t.classList.remove('active');
      });
      btn.classList.add('active');
      render();
    });

    container.appendChild(btn);
  });
}

function buildReligionToggles() {
  var container = document.getElementById('religionToggles');

  RELIGIONS.forEach(function(r) {
    var btn = document.createElement('button');
    btn.className = 'rel-toggle';
    btn.style.borderColor = r.color;
    btn.style.color = r.color;
    btn.style.background = religionVisible[r.id] ? r.color + '20' : 'transparent';
    btn.textContent = r.icon + ' ' + r.name;
    btn.id = 'toggle-' + r.id;

    btn.addEventListener('click', function() {
      religionVisible[r.id] = !religionVisible[r.id];
      btn.classList.toggle('off', !religionVisible[r.id]);
      btn.style.background = religionVisible[r.id] ? r.color + '20' : 'transparent';
      renderCards();
      updateVisibleCount();
    });

    container.appendChild(btn);
  });
}

/* ===== Rendering ===== */
function render() {
  renderCards();
  renderOverlays();
  renderPrompts();
  updateToolButtons();
  updateVisibleCount();
}

function renderCards() {
  var container = document.getElementById('cardsContainer');
  container.innerHTML = '';
  var theme = THEMES[activeTheme];

  RELIGIONS.forEach(function(r) {
    var data = theme.cards[r.id];
    if (!data) return;

    var card = document.createElement('div');
    var classes = 'card';
    if (!religionVisible[r.id]) classes += ' hidden-card';
    if (showSim) classes += ' highlight-sim';
    if (showDiff) classes += ' highlight-diff';
    card.className = classes;
    card.dataset.religion = r.id;

    var conceptsHtml = data.concepts.map(function(c) {
      return '<span class="concept-tag">' + c + '</span>';
    }).join('');

    card.innerHTML =
      '<div class="card-header">' +
        '<div class="card-icon">' + r.icon + '</div>' +
        '<div>' +
          '<div class="card-title">' + r.name + '</div>' +
          '<div class="card-scripture">' + r.scripture + '</div>' +
        '</div>' +
      '</div>' +
      '<div class="card-teaching">' + data.teaching + '</div>' +
      '<div class="card-quote">' +
        '\u201C' + data.quote + '\u201D' +
        '<span class="card-ref">' + data.ref + '</span>' +
      '</div>' +
      '<div class="card-concepts">' + conceptsHtml + '</div>';

    container.appendChild(card);
  });
}

function renderOverlays() {
  var theme = THEMES[activeTheme];
  var simBanner = document.getElementById('simBanner');
  var diffBanner = document.getElementById('diffBanner');

  simBanner.innerHTML = '<strong>Shared Themes</strong>' + theme.similarities;
  diffBanner.innerHTML = '<strong>Distinctive Perspectives</strong>' + theme.differences;

  simBanner.classList.toggle('show', showSim);
  diffBanner.classList.toggle('show', showDiff);
}

function renderPrompts() {
  var list = document.getElementById('promptList');
  var theme = THEMES[activeTheme];

  list.innerHTML = theme.prompts.map(function(p) {
    return '<li><strong>' + p.type + ':</strong> ' + p.text + '</li>';
  }).join('');
}

function updateToolButtons() {
  var btnSim = document.getElementById('btnSim');
  var btnDiff = document.getElementById('btnDiff');
  btnSim.className = 'tool-btn' + (showSim ? ' active-sim' : '');
  btnDiff.className = 'tool-btn' + (showDiff ? ' active-diff' : '');
}

function updateVisibleCount() {
  var count = 0;
  RELIGIONS.forEach(function(r) {
    if (religionVisible[r.id]) count++;
  });
  var el = document.getElementById('visibleCount');
  el.textContent = count + ' of ' + RELIGIONS.length + ' shown';
}

/* ===== Interaction handlers ===== */
function toggleSimilarities() {
  showSim = !showSim;
  if (showSim) showDiff = false;
  render();
}

function toggleDifferences() {
  showDiff = !showDiff;
  if (showDiff) showSim = false;
  render();
}

function toggleInfo() {
  var panel = document.getElementById('infoPanel');
  var btn = document.getElementById('infoToggleBtn');
  var isOpen = panel.classList.toggle('open');
  btn.textContent = isOpen ? 'Hide Comparative Study Info' : 'About Comparative Study';
}

/* ===== Start ===== */
init();
</script>
</body>
</html>
