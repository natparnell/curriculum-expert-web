<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zones of Regulation</title>
<style>
:root {
  --bg-cream: #FFF8F0;
  --bg-warm: #FEF3E2;
  --text-dark: #3B2F2F;
  --text-mid: #5C4A4A;
  --text-light: #8B7676;
  --border-soft: #E8D5C4;
  --zone-blue: #5B9BD5;
  --zone-blue-light: #D6E8F7;
  --zone-blue-dark: #2E6BA6;
  --zone-green: #6BBF59;
  --zone-green-light: #D9F0D3;
  --zone-green-dark: #3A8A2E;
  --zone-yellow: #F0C040;
  --zone-yellow-light: #FDF3D0;
  --zone-yellow-dark: #C49A10;
  --zone-red: #E05050;
  --zone-red-light: #FADADA;
  --zone-red-dark: #B22222;
  --shadow-sm: 0 2px 6px rgba(59,47,47,0.08);
  --shadow-md: 0 4px 12px rgba(59,47,47,0.12);
  --radius: 12px;
  --radius-sm: 8px;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: var(--bg-cream);
  color: var(--text-dark);
  line-height: 1.6;
  min-height: 100vh;
}

header {
  position: sticky; top: 0; z-index: 100;
  background: linear-gradient(135deg, var(--zone-green-dark), #2D7A22);
  color: white;
  padding: 16px 24px;
  box-shadow: var(--shadow-md);
  text-align: center;
}
header h1 { font-size: 1.6rem; font-weight: 700; letter-spacing: 0.5px; }
header p { font-size: 0.9rem; opacity: 0.9; margin-top: 2px; }

nav {
  display: flex; gap: 8px; justify-content: center; flex-wrap: wrap;
  padding: 12px 16px;
  background: var(--bg-warm);
  border-bottom: 1px solid var(--border-soft);
}
nav button {
  padding: 8px 18px; border: 2px solid var(--border-soft); border-radius: 24px;
  background: white; color: var(--text-mid); font-size: 0.85rem; font-weight: 600;
  cursor: pointer; transition: all 0.2s;
}
nav button:hover { border-color: var(--zone-green); color: var(--zone-green-dark); }
nav button.active { background: var(--zone-green); border-color: var(--zone-green-dark); color: white; }

main { max-width: 1100px; margin: 0 auto; padding: 20px 16px 60px; }

.section { display: none; }
.section.active { display: block; }

/* Zone Grid */
.zone-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 8px;
}
.zone-card {
  border-radius: var(--radius); padding: 20px; cursor: pointer;
  border: 3px solid transparent; transition: all 0.25s; position: relative;
}
.zone-card:hover { transform: translateY(-3px); box-shadow: var(--shadow-md); }
.zone-card.blue { background: var(--zone-blue-light); border-color: var(--zone-blue); }
.zone-card.green { background: var(--zone-green-light); border-color: var(--zone-green); }
.zone-card.yellow { background: var(--zone-yellow-light); border-color: var(--zone-yellow); }
.zone-card.red { background: var(--zone-red-light); border-color: var(--zone-red); }

.zone-card h3 { font-size: 1.3rem; margin-bottom: 4px; display: flex; align-items: center; gap: 8px; }
.zone-dot { width: 18px; height: 18px; border-radius: 50%; display: inline-block; flex-shrink: 0; }
.zone-dot.blue { background: var(--zone-blue); }
.zone-dot.green { background: var(--zone-green); }
.zone-dot.yellow { background: var(--zone-yellow); }
.zone-dot.red { background: var(--zone-red); }

.zone-card .subtitle { font-size: 0.85rem; color: var(--text-mid); margin-bottom: 10px; font-style: italic; }
.zone-card .emotions { font-size: 0.9rem; margin-bottom: 12px; }
.zone-card .emotions strong { display: block; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px; }

.strategy-list { list-style: none; }
.strategy-list li {
  padding: 8px 12px; margin: 4px 0; border-radius: var(--radius-sm);
  background: rgba(255,255,255,0.7); cursor: pointer; font-size: 0.88rem;
  transition: all 0.2s; border: 1px solid transparent;
}
.strategy-list li:hover { background: rgba(255,255,255,0.95); border-color: rgba(0,0,0,0.1); }

/* Strategy Detail Modal */
.modal-overlay {
  display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.4);
  z-index: 200; align-items: center; justify-content: center; padding: 20px;
}
.modal-overlay.open { display: flex; }
.modal-content {
  background: white; border-radius: var(--radius); padding: 28px; max-width: 520px;
  width: 100%; box-shadow: 0 8px 32px rgba(0,0,0,0.2); position: relative;
  max-height: 80vh; overflow-y: auto;
}
.modal-content h3 { font-size: 1.2rem; margin-bottom: 12px; }
.modal-content .steps { list-style: none; counter-reset: step; }
.modal-content .steps li {
  counter-increment: step; padding: 8px 0 8px 36px; position: relative; font-size: 0.95rem;
}
.modal-content .steps li::before {
  content: counter(step); position: absolute; left: 0; top: 8px;
  width: 26px; height: 26px; border-radius: 50%; background: var(--zone-green);
  color: white; font-size: 0.8rem; font-weight: 700;
  display: flex; align-items: center; justify-content: center;
}
.modal-close {
  position: absolute; top: 12px; right: 16px; background: none; border: none;
  font-size: 1.5rem; cursor: pointer; color: var(--text-light); line-height: 1;
}

/* Scenario Mode */
.scenario-box {
  background: white; border-radius: var(--radius); padding: 24px;
  box-shadow: var(--shadow-sm); border: 1px solid var(--border-soft); margin-bottom: 16px;
}
.scenario-box h3 { font-size: 1.1rem; margin-bottom: 4px; }
.scenario-text { font-size: 1.05rem; font-weight: 600; margin: 12px 0; color: var(--text-dark); }
.scenario-prompt { font-size: 0.9rem; color: var(--text-mid); margin-bottom: 12px; }

.zone-pick-grid { display: grid; grid-template-columns: repeat(4,1fr); gap: 8px; margin-bottom: 12px; }
.zone-pick-btn {
  padding: 12px 8px; border-radius: var(--radius-sm); border: 2px solid transparent;
  font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.2s; text-align: center;
}
.zone-pick-btn.blue { background: var(--zone-blue-light); color: var(--zone-blue-dark); border-color: var(--zone-blue); }
.zone-pick-btn.green { background: var(--zone-green-light); color: var(--zone-green-dark); border-color: var(--zone-green); }
.zone-pick-btn.yellow { background: var(--zone-yellow-light); color: var(--zone-yellow-dark); border-color: var(--zone-yellow); }
.zone-pick-btn.red { background: var(--zone-red-light); color: var(--zone-red-dark); border-color: var(--zone-red); }
.zone-pick-btn:hover { transform: scale(1.05); }
.zone-pick-btn.selected { box-shadow: 0 0 0 3px rgba(0,0,0,0.25); }

.strategy-pick-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin: 12px 0; }
.strategy-pick-btn {
  padding: 10px 12px; border-radius: var(--radius-sm); border: 2px solid var(--border-soft);
  background: white; font-size: 0.85rem; cursor: pointer; transition: all 0.2s; text-align: left;
}
.strategy-pick-btn:hover { border-color: var(--zone-green); background: var(--zone-green-light); }
.strategy-pick-btn.selected { border-color: var(--zone-green-dark); background: var(--zone-green-light); }

.feedback-box {
  padding: 14px 16px; border-radius: var(--radius-sm); margin-top: 12px;
  font-size: 0.9rem; display: none;
}
.feedback-box.correct { background: var(--zone-green-light); border: 1px solid var(--zone-green); color: var(--zone-green-dark); }
.feedback-box.partial { background: var(--zone-yellow-light); border: 1px solid var(--zone-yellow); color: var(--zone-yellow-dark); }

.scenario-progress { display: flex; gap: 6px; margin-bottom: 16px; }
.progress-dot {
  width: 14px; height: 14px; border-radius: 50%; background: var(--border-soft);
}
.progress-dot.done { background: var(--zone-green); }
.progress-dot.current { background: var(--zone-yellow); border: 2px solid var(--zone-yellow-dark); }

.btn {
  padding: 10px 22px; border-radius: 24px; border: none; font-weight: 600;
  font-size: 0.9rem; cursor: pointer; transition: all 0.2s;
}
.btn-green { background: var(--zone-green); color: white; }
.btn-green:hover { background: var(--zone-green-dark); }
.btn-outline {
  background: transparent; border: 2px solid var(--border-soft); color: var(--text-mid);
}
.btn-outline:hover { border-color: var(--zone-green); color: var(--zone-green-dark); }

/* Journey Tracker */
.journey-container { background: white; border-radius: var(--radius); padding: 24px; box-shadow: var(--shadow-sm); border: 1px solid var(--border-soft); }
.journey-timeline {
  display: flex; align-items: stretch; gap: 0; margin: 20px 0; min-height: 200px; position: relative;
}
.journey-slot {
  flex: 1; display: flex; flex-direction: column; align-items: center; position: relative;
  border-right: 1px dashed var(--border-soft); padding: 0 4px;
}
.journey-slot:last-child { border-right: none; }
.journey-slot .time-label { font-size: 0.7rem; color: var(--text-light); margin-bottom: 8px; font-weight: 600; }
.journey-zone-col {
  flex: 1; display: flex; flex-direction: column; justify-content: space-between; align-items: center; width: 100%;
}
.journey-zone-slot {
  width: 28px; height: 28px; border-radius: 50%; border: 2px dashed var(--border-soft);
  cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center;
}
.journey-zone-slot:hover { border-style: solid; transform: scale(1.15); }
.journey-zone-slot.filled { border-style: solid; }
.journey-zone-slot.filled.red { background: var(--zone-red); border-color: var(--zone-red-dark); }
.journey-zone-slot.filled.yellow { background: var(--zone-yellow); border-color: var(--zone-yellow-dark); }
.journey-zone-slot.filled.green { background: var(--zone-green); border-color: var(--zone-green-dark); }
.journey-zone-slot.filled.blue { background: var(--zone-blue); border-color: var(--zone-blue-dark); }

.zone-labels { display: flex; flex-direction: column; justify-content: space-between; padding: 22px 8px 0 0; min-height: 200px; }
.zone-label-item { font-size: 0.7rem; font-weight: 700; text-align: right; height: 28px; display: flex; align-items: center; }

.journey-picker { display: flex; gap: 8px; justify-content: center; margin-bottom: 16px; }
.journey-picker button {
  width: 36px; height: 36px; border-radius: 50%; border: 3px solid transparent;
  cursor: pointer; transition: all 0.2s;
}
.journey-picker button:hover { transform: scale(1.15); }
.journey-picker button.active { box-shadow: 0 0 0 3px rgba(0,0,0,0.2); }
.journey-picker .jp-blue { background: var(--zone-blue); border-color: var(--zone-blue-dark); }
.journey-picker .jp-green { background: var(--zone-green); border-color: var(--zone-green-dark); }
.journey-picker .jp-yellow { background: var(--zone-yellow); border-color: var(--zone-yellow-dark); }
.journey-picker .jp-red { background: var(--zone-red); border-color: var(--zone-red-dark); }

/* Body Signals */
.body-container { display: flex; gap: 24px; flex-wrap: wrap; align-items: flex-start; }
.body-figure {
  flex: 0 0 260px; position: relative; background: white; border-radius: var(--radius);
  padding: 20px; box-shadow: var(--shadow-sm); border: 1px solid var(--border-soft);
}
.body-svg { width: 100%; height: auto; }
.body-signals-list { flex: 1; min-width: 280px; }
.signal-card {
  background: white; border-radius: var(--radius-sm); padding: 14px 16px;
  margin-bottom: 10px; box-shadow: var(--shadow-sm); border-left: 4px solid;
}
.signal-card.blue { border-color: var(--zone-blue); }
.signal-card.green { border-color: var(--zone-green); }
.signal-card.yellow { border-color: var(--zone-yellow); }
.signal-card.red { border-color: var(--zone-red); }
.signal-card h4 { font-size: 0.95rem; margin-bottom: 4px; }
.signal-card p { font-size: 0.85rem; color: var(--text-mid); }

/* Info Panel */
.info-card {
  background: white; border-radius: var(--radius); padding: 22px;
  box-shadow: var(--shadow-sm); border: 1px solid var(--border-soft); margin-bottom: 14px;
}
.info-card h3 { font-size: 1.05rem; margin-bottom: 8px; color: var(--zone-green-dark); }
.info-card p, .info-card li { font-size: 0.9rem; color: var(--text-mid); }
.info-card ul { margin: 8px 0 0 20px; }
.info-card li { margin-bottom: 4px; }

.section-title { font-size: 1.2rem; font-weight: 700; margin-bottom: 14px; color: var(--text-dark); }

@media (max-width: 700px) {
  .zone-grid { grid-template-columns: 1fr; }
  .zone-pick-grid { grid-template-columns: repeat(2,1fr); }
  .strategy-pick-grid { grid-template-columns: 1fr; }
  .body-container { flex-direction: column; }
  .body-figure { flex: none; width: 100%; max-width: 300px; margin: 0 auto; }
  header h1 { font-size: 1.3rem; }
  nav { gap: 6px; }
  nav button { padding: 6px 12px; font-size: 0.8rem; }
}
</style>
</head>
<body>

<header>
  <h1>Zones of Regulation</h1>
  <p>Understanding and managing our emotions</p>
</header>

<nav>
  <button class="active" onclick="showSection('zones')">The Four Zones</button>
  <button onclick="showSection('scenarios')">Scenario Mode</button>
  <button onclick="showSection('journey')">My Journey</button>
  <button onclick="showSection('body')">Body Signals</button>
  <button onclick="showSection('info')">About Zones</button>
</nav>

<main>
  <!-- ZONES SECTION -->
  <div id="sec-zones" class="section active">
    <p class="section-title">Explore the Four Zones</p>
    <div class="zone-grid">
      <div class="zone-card blue" onclick="openZoneDetail('blue')">
        <h3><span class="zone-dot blue"></span> Blue Zone</h3>
        <div class="subtitle">Low energy, slow</div>
        <div class="emotions">
          <strong>You might feel:</strong>
          Sad, tired, bored, sick, lonely, withdrawn
        </div>
        <ul class="strategy-list">
          <li onclick="event.stopPropagation(); openStrategy('blue',0)">Talk to a trusted adult</li>
          <li onclick="event.stopPropagation(); openStrategy('blue',1)">Get a drink of water</li>
          <li onclick="event.stopPropagation(); openStrategy('blue',2)">Do some gentle stretching</li>
          <li onclick="event.stopPropagation(); openStrategy('blue',3)">Think of something positive</li>
          <li onclick="event.stopPropagation(); openStrategy('blue',4)">Take a short walk</li>
        </ul>
      </div>
      <div class="zone-card green" onclick="openZoneDetail('green')">
        <h3><span class="zone-dot green"></span> Green Zone</h3>
        <div class="subtitle">Calm, focused, ready to learn</div>
        <div class="emotions">
          <strong>You might feel:</strong>
          Happy, calm, focused, content, proud, ready
        </div>
        <ul class="strategy-list">
          <li onclick="event.stopPropagation(); openStrategy('green',0)">Keep a positive mindset</li>
          <li onclick="event.stopPropagation(); openStrategy('green',1)">Use kind self-talk</li>
          <li onclick="event.stopPropagation(); openStrategy('green',2)">Help someone else</li>
          <li onclick="event.stopPropagation(); openStrategy('green',3)">Take deep breaths to stay calm</li>
          <li onclick="event.stopPropagation(); openStrategy('green',4)">Set a small goal to work towards</li>
        </ul>
      </div>
      <div class="zone-card yellow" onclick="openZoneDetail('yellow')">
        <h3><span class="zone-dot yellow"></span> Yellow Zone</h3>
        <div class="subtitle">Heightened, losing some control</div>
        <div class="emotions">
          <strong>You might feel:</strong>
          Anxious, frustrated, silly, excited, nervous, worried
        </div>
        <ul class="strategy-list">
          <li onclick="event.stopPropagation(); openStrategy('yellow',0)">Take 5 deep breaths</li>
          <li onclick="event.stopPropagation(); openStrategy('yellow',1)">Count backwards from 10</li>
          <li onclick="event.stopPropagation(); openStrategy('yellow',2)">Use a fidget tool</li>
          <li onclick="event.stopPropagation(); openStrategy('yellow',3)">Ask for a movement break</li>
          <li onclick="event.stopPropagation(); openStrategy('yellow',4)">Write down your feelings</li>
        </ul>
      </div>
      <div class="zone-card red" onclick="openZoneDetail('red')">
        <h3><span class="zone-dot red"></span> Red Zone</h3>
        <div class="subtitle">Extreme, out of control</div>
        <div class="emotions">
          <strong>You might feel:</strong>
          Angry, terrified, furious, out of control, panicked, enraged
        </div>
        <ul class="strategy-list">
          <li onclick="event.stopPropagation(); openStrategy('red',0)">Stop and freeze your body</li>
          <li onclick="event.stopPropagation(); openStrategy('red',1)">Go to a safe, quiet space</li>
          <li onclick="event.stopPropagation(); openStrategy('red',2)">Squeeze something soft tightly</li>
          <li onclick="event.stopPropagation(); openStrategy('red',3)">Ask an adult for help immediately</li>
          <li onclick="event.stopPropagation(); openStrategy('red',4)">Use the 5-4-3-2-1 grounding technique</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- SCENARIO SECTION -->
  <div id="sec-scenarios" class="section">
    <p class="section-title">Scenario Mode</p>
    <div class="scenario-progress" id="scenarioProgress"></div>
    <div class="scenario-box" id="scenarioBox">
      <h3 id="scenarioLabel">Scenario 1 of 8</h3>
      <div class="scenario-text" id="scenarioText"></div>
      <div class="scenario-prompt" id="scenarioPrompt">Which zone would you be in?</div>
      <div class="zone-pick-grid" id="zonePicks"></div>
      <div id="strategySection" style="display:none;">
        <div class="scenario-prompt">Now pick a strategy to help you move back to the green zone:</div>
        <div class="strategy-pick-grid" id="strategyPicks"></div>
      </div>
      <div class="feedback-box" id="feedbackBox"></div>
      <div style="margin-top:16px; display:flex; gap:10px; justify-content:flex-end;">
        <button class="btn btn-green" id="nextBtn" onclick="nextScenario()" style="display:none;">Next Scenario</button>
      </div>
    </div>
    <div id="scenarioComplete" style="display:none;">
      <div class="scenario-box" style="text-align:center;">
        <h3>Well done! You completed all the scenarios.</h3>
        <p style="margin:12px 0; color:var(--text-mid);">You thought about your emotions and chose strategies to help. That is a really important skill.</p>
        <button class="btn btn-green" onclick="resetScenarios()">Try Again</button>
      </div>
    </div>
  </div>

  <!-- JOURNEY SECTION -->
  <div id="sec-journey" class="section">
    <p class="section-title">My Emotional Journey</p>
    <div class="journey-container">
      <p style="font-size:0.9rem; color:var(--text-mid); margin-bottom:8px;">Select a zone colour, then click a time slot to plot how you felt during the day.</p>
      <div class="journey-picker">
        <button class="jp-red" title="Red Zone" onclick="pickJourneyZone('red',this)"></button>
        <button class="jp-yellow" title="Yellow Zone" onclick="pickJourneyZone('yellow',this)"></button>
        <button class="jp-green active" title="Green Zone" onclick="pickJourneyZone('green',this)"></button>
        <button class="jp-blue" title="Blue Zone" onclick="pickJourneyZone('blue',this)"></button>
        <button class="btn-outline btn" style="width:auto;height:auto;border-radius:24px;padding:6px 14px;font-size:0.75rem;" onclick="clearJourney()">Clear</button>
      </div>
      <div style="display:flex;">
        <div class="zone-labels">
          <div class="zone-label-item" style="color:var(--zone-red-dark);">Red</div>
          <div class="zone-label-item" style="color:var(--zone-yellow-dark);">Yellow</div>
          <div class="zone-label-item" style="color:var(--zone-green-dark);">Green</div>
          <div class="zone-label-item" style="color:var(--zone-blue-dark);">Blue</div>
        </div>
        <div class="journey-timeline" id="journeyTimeline"></div>
      </div>
    </div>
  </div>

  <!-- BODY SIGNALS SECTION -->
  <div id="sec-body" class="section">
    <p class="section-title">Body Signals</p>
    <p style="font-size:0.9rem; color:var(--text-mid); margin-bottom:16px;">Our bodies give us clues about which zone we are in. Different emotions can cause physical sensations in different parts of the body.</p>
    <div class="body-container">
      <div class="body-figure">
        <svg class="body-svg" viewBox="0 0 200 400" xmlns="http://www.w3.org/2000/svg">
          <!-- Head -->
          <circle cx="100" cy="45" r="30" fill="#FDEBD0" stroke="#D5B89A" stroke-width="2"/>
          <!-- Neck -->
          <rect x="90" y="74" width="20" height="16" fill="#FDEBD0" stroke="#D5B89A" stroke-width="1.5"/>
          <!-- Body -->
          <path d="M60 90 Q55 90 52 95 L42 180 Q40 190 50 192 L80 195 L80 260 Q80 268 88 268 L112 268 Q120 268 120 260 L120 195 L150 192 Q160 190 158 180 L148 95 Q145 90 140 90 Z" fill="#FDEBD0" stroke="#D5B89A" stroke-width="2"/>
          <!-- Left arm -->
          <path d="M52 95 Q35 100 25 140 L18 185 Q15 195 22 196 L30 192 Q33 186 38 170 L50 130" fill="#FDEBD0" stroke="#D5B89A" stroke-width="2"/>
          <!-- Right arm -->
          <path d="M148 95 Q165 100 175 140 L182 185 Q185 195 178 196 L170 192 Q167 186 162 170 L150 130" fill="#FDEBD0" stroke="#D5B89A" stroke-width="2"/>
          <!-- Left leg -->
          <path d="M80 260 L75 340 Q73 355 80 358 L95 358 Q100 356 98 345 L95 268" fill="#FDEBD0" stroke="#D5B89A" stroke-width="2"/>
          <!-- Right leg -->
          <path d="M120 260 L125 340 Q127 355 120 358 L105 358 Q100 356 102 345 L105 268" fill="#FDEBD0" stroke="#D5B89A" stroke-width="2"/>
          <!-- Signal markers -->
          <circle cx="100" cy="40" r="10" fill="var(--zone-red)" opacity="0.35" class="body-pulse"/>
          <text x="100" y="44" text-anchor="middle" font-size="7" fill="var(--zone-red-dark)" font-weight="bold">HEAD</text>
          <circle cx="100" cy="130" r="14" fill="var(--zone-yellow)" opacity="0.3" class="body-pulse"/>
          <text x="100" y="134" text-anchor="middle" font-size="7" fill="var(--zone-yellow-dark)" font-weight="bold">CHEST</text>
          <circle cx="100" cy="180" r="12" fill="var(--zone-blue)" opacity="0.3" class="body-pulse"/>
          <text x="100" y="184" text-anchor="middle" font-size="7" fill="var(--zone-blue-dark)" font-weight="bold">TUMMY</text>
          <circle cx="28" cy="145" r="8" fill="var(--zone-yellow)" opacity="0.3"/>
          <text x="28" y="148" text-anchor="middle" font-size="5.5" fill="var(--zone-yellow-dark)" font-weight="bold">HAND</text>
          <circle cx="78" cy="330" r="8" fill="var(--zone-blue)" opacity="0.25"/>
          <text x="78" y="333" text-anchor="middle" font-size="5.5" fill="var(--zone-blue-dark)" font-weight="bold">LEGS</text>
          <circle cx="100" cy="82" r="7" fill="var(--zone-red)" opacity="0.3"/>
          <text x="100" y="85" text-anchor="middle" font-size="5" fill="var(--zone-red-dark)" font-weight="bold">NECK</text>
        </svg>
        <style>
          @keyframes pulse { 0%,100%{opacity:0.25;} 50%{opacity:0.5;} }
          .body-pulse { animation: pulse 2.5s ease-in-out infinite; }
        </style>
      </div>
      <div class="body-signals-list">
        <div class="signal-card red">
          <h4>Red Zone: Head and Neck</h4>
          <p>Face feels hot and flushed. Jaw clenches tightly. Temples throb or pound. Neck and shoulders feel very stiff and tense.</p>
          <p style="margin-top:6px; font-size:0.8rem; color:var(--text-light);">
            You might also notice: grinding teeth, furrowed eyebrows, red cheeks, ears feeling hot.
          </p>
        </div>
        <div class="signal-card red">
          <h4>Red Zone: Arms and Fists</h4>
          <p>Arms feel tense and rigid. Fists clench tightly without you even noticing. You might feel an urge to push or throw something. Muscles feel like they are ready to spring into action.</p>
        </div>
        <div class="signal-card yellow">
          <h4>Yellow Zone: Chest and Heart</h4>
          <p>Heart beats faster than normal. Breathing becomes quick and shallow. Chest might feel tight or fluttery, like butterflies are inside trying to get out.</p>
          <p style="margin-top:6px; font-size:0.8rem; color:var(--text-light);">
            You might also notice: voice getting louder or faster, giggling you cannot stop, talking over people.
          </p>
        </div>
        <div class="signal-card yellow">
          <h4>Yellow Zone: Hands and Fingers</h4>
          <p>Hands might feel sweaty, shaky, or clenched into fists. Fidgety feelings in your fingers make you want to tap, pick, or fiddle with things constantly.</p>
        </div>
        <div class="signal-card green">
          <h4>Green Zone: Whole Body</h4>
          <p>Breathing is slow and steady. Muscles feel relaxed and loose. Face is calm with a natural expression. Hands are open and still. Body feels comfortable, balanced, and ready for whatever comes next.</p>
          <p style="margin-top:6px; font-size:0.8rem; color:var(--text-light);">
            You might also notice: sitting still comfortably, making eye contact, smiling naturally, feeling alert.
          </p>
        </div>
        <div class="signal-card blue">
          <h4>Blue Zone: Tummy and Core</h4>
          <p>Tummy might feel empty, heavy, or queasy. Your core feels weak, like you want to slump or curl up. You might not feel hungry even if you have not eaten.</p>
        </div>
        <div class="signal-card blue">
          <h4>Blue Zone: Legs and Posture</h4>
          <p>Legs feel tired and heavy, like they do not want to move. Your whole body feels slow, droopy, or drained of energy. Shoulders sag downwards and your head might hang low.</p>
          <p style="margin-top:6px; font-size:0.8rem; color:var(--text-light);">
            You might also notice: yawning, watery eyes, wanting to put your head on the desk, difficulty keeping eyes open.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- INFO SECTION -->
  <div id="sec-info" class="section">
    <p class="section-title">About the Zones of Regulation</p>
    <div class="info-card">
      <h3>What are the Zones of Regulation?</h3>
      <p>The Zones of Regulation is a framework that helps us understand and manage our emotions, energy levels, and behaviour. It sorts our feelings into four coloured zones. No zone is "bad"; they all happen naturally. The key is learning to recognise which zone you are in and knowing how to get back to the green zone when you need to.</p>
    </div>
    <div class="info-card">
      <h3>Why does self-regulation matter?</h3>
      <p>Self-regulation is the ability to manage your emotions and behaviour so you can focus, learn, and get along with others. When you can regulate yourself:</p>
      <ul>
        <li>You concentrate better in lessons and complete more work.</li>
        <li>You handle disagreements calmly and keep friendships strong.</li>
        <li>You feel more confident when tackling challenges.</li>
        <li>You recover more quickly from setbacks or disappointments.</li>
        <li>You make thoughtful choices instead of reacting on impulse.</li>
      </ul>
    </div>
    <div class="info-card">
      <h3>The Four Zones Explained</h3>
      <p><strong style="color:var(--zone-blue);">Blue Zone</strong>: Your body is running on low energy. You might feel sad, tired, bored, or unwell. You need a gentle boost to get back to green.</p>
      <p style="margin-top:8px;"><strong style="color:var(--zone-green-dark);">Green Zone</strong>: This is where you are calm, focused, and ready to learn. You feel in control. This is the ideal zone for the classroom.</p>
      <p style="margin-top:8px;"><strong style="color:var(--zone-yellow-dark);">Yellow Zone</strong>: Your energy is getting higher. You might feel anxious, frustrated, silly, or overly excited. You are starting to lose a bit of control but can still use strategies to get back to green.</p>
      <p style="margin-top:8px;"><strong style="color:var(--zone-red-dark);">Red Zone</strong>: You are in an extreme state. You might feel furious, terrified, or completely overwhelmed. Your body has taken over, and you need immediate help to calm down and feel safe.</p>
    </div>
    <div class="info-card">
      <h3>When to use each strategy</h3>
      <ul>
        <li><strong>Breathing and counting</strong>: Great for yellow and red zones when you need to slow down quickly.</li>
        <li><strong>Movement breaks</strong>: Helpful in the blue zone (to boost energy) and yellow zone (to release tension).</li>
        <li><strong>Talking to someone</strong>: Works in every zone. Sharing how you feel always helps.</li>
        <li><strong>Grounding techniques</strong>: Best for red zone moments when your thoughts feel out of control.</li>
        <li><strong>Positive self-talk</strong>: Useful in the green zone to stay there, and in blue or yellow to shift your mindset.</li>
      </ul>
    </div>
    <div class="info-card">
      <h3>Tips for Adults</h3>
      <p>Supporting children with emotional regulation is most effective when adults model it themselves. Here are some approaches:</p>
      <ul>
        <li><strong>Name your own zones.</strong> Say things like "I am feeling a bit yellow right now because I am running late. I am going to take three deep breaths." This normalises emotional awareness.</li>
        <li><strong>Avoid judgement.</strong> No zone is bad. Saying "stop being red" is unhelpful. Instead, try "I can see you are in the red zone. Let us find a way to help you feel safe."</li>
        <li><strong>Practise during calm moments.</strong> Teach and rehearse strategies when the child is in the green zone, not during a crisis.</li>
        <li><strong>Create a calm-down toolkit.</strong> Have physical items available (stress balls, colouring sheets, headphones, a blanket) that children can reach for independently.</li>
        <li><strong>Be patient.</strong> Self-regulation is a skill that develops over time. Celebrate small steps of progress.</li>
      </ul>
    </div>
    <div class="info-card">
      <h3>Zones at Home</h3>
      <p>The zones framework works just as well outside school. You can use it:</p>
      <ul>
        <li>During homework time, when frustration might push a child into the yellow zone.</li>
        <li>At bedtime, when anxiety or overthinking might signal a yellow or blue zone.</li>
        <li>During family disagreements, to help everyone pause and name their zone before continuing the conversation.</li>
        <li>On exciting days (birthdays, trips), to help manage the heightened yellow zone energy positively.</li>
      </ul>
    </div>
    <div class="info-card">
      <h3>Remember</h3>
      <p>Everyone moves through different zones every day. It is completely normal to feel all kinds of emotions. The skill is noticing which zone you are in and choosing a strategy to help. With practice, this becomes easier and more natural.</p>
      <p style="margin-top:8px;">The goal is not to stay in the green zone all the time. That is impossible. The real goal is to recognise when you have moved out of green and to have strategies ready that help you get back there when you need to.</p>
    </div>
  </div>
</main>

<!-- Strategy Detail Modal -->
<div class="modal-overlay" id="strategyModal">
  <div class="modal-content">
    <button class="modal-close" onclick="closeModal()">&times;</button>
    <h3 id="modalTitle"></h3>
    <p id="modalDesc" style="color:var(--text-mid); margin-bottom:14px;"></p>
    <ol class="steps" id="modalSteps"></ol>
  </div>
</div>

<script>
const STRATEGIES = {
  blue: [
    { name: 'Talk to a trusted adult', desc: 'Sharing how you feel with someone you trust can help lift your mood and remind you that you are not alone.', steps: ['Find a teacher, parent, or friend you trust.','Tell them honestly how you are feeling right now.','Listen to their response and let their words comfort you.','Thank them for listening; it takes courage to share.'] },
    { name: 'Get a drink of water', desc: 'A simple change of activity like getting a drink can refresh your body and break the cycle of low energy.', steps: ['Stand up slowly from where you are sitting.','Walk to the water fountain or your water bottle.','Take several slow sips and notice how the cool water feels.','Take a deep breath before returning to your seat.'] },
    { name: 'Do some gentle stretching', desc: 'Stretching sends signals to your brain that it is time to wake up and get moving.', steps: ['Stand up and reach both arms high above your head.','Hold for five seconds, then slowly lower them.','Roll your shoulders forwards three times, then backwards three times.','Gently tilt your head to each side, holding for three seconds.','Shake your hands loosely to release tension.'] },
    { name: 'Think of something positive', desc: 'Focusing on a happy memory or something you are looking forward to can shift your mood upwards.', steps: ['Close your eyes gently or look at a calm spot.','Think of a memory that makes you smile.','Picture it clearly: where were you, who was there, how did it feel?','Hold onto that warm feeling for a few moments.','Open your eyes and carry that feeling with you.'] },
    { name: 'Take a short walk', desc: 'Moving your body releases chemicals that naturally boost your mood and energy.', steps: ['Ask your teacher if you may take a short walk.','Walk at a comfortable pace, noticing what you see around you.','Pay attention to how your feet feel on the ground.','Take five deep breaths as you walk.','Return to class feeling refreshed.'] }
  ],
  green: [
    { name: 'Keep a positive mindset', desc: 'When you are in the green zone, staying positive helps you remain there longer.', steps: ['Notice that you feel calm and focused right now.','Remind yourself: "I am doing well."','Set a small goal for the next 30 minutes.','Celebrate small wins as they happen.'] },
    { name: 'Use kind self-talk', desc: 'The way you speak to yourself inside your head matters. Kind words keep you in the green zone.', steps: ['Pay attention to your inner voice.','Replace any negative thoughts with encouraging ones.','Try phrases like "I can do this" or "I am proud of myself."','Repeat your favourite phrase quietly if you feel doubt creeping in.'] },
    { name: 'Help someone else', desc: 'Helping others boosts your own mood and strengthens friendships.', steps: ['Look around to see if anyone nearby needs help.','Offer your support in a kind, quiet way.','Listen to what they need before jumping in.','Feel proud that you made someone else\'s day a little better.'] },
    { name: 'Take deep breaths to stay calm', desc: 'Even in the green zone, deep breathing keeps your body and mind balanced.', steps: ['Breathe in slowly through your nose for four counts.','Hold your breath gently for two counts.','Breathe out through your mouth for six counts.','Repeat three times and notice how steady you feel.'] },
    { name: 'Set a small goal', desc: 'Having something to work towards keeps your focus sharp and your energy positive.', steps: ['Think of one thing you want to achieve in the next lesson.','Write it down or say it quietly to yourself.','Break it into tiny steps if it feels big.','Tick it off when you have done it and feel the pride.'] }
  ],
  yellow: [
    { name: 'Take 5 deep breaths', desc: 'Slow breathing tells your nervous system to calm down and helps you regain control.', steps: ['Stop what you are doing for a moment.','Breathe in through your nose for a count of four.','Hold for a count of two.','Breathe out slowly through your mouth for a count of six.','Repeat four more times, getting slower each time.'] },
    { name: 'Count backwards from 10', desc: 'Counting backwards requires focus, which distracts your brain from the feeling that is building up.', steps: ['Pause and close your eyes if you can.','Count backwards slowly: 10, 9, 8, 7, 6, 5, 4, 3, 2, 1.','With each number, imagine yourself stepping down a calm staircase.','When you reach 1, take one long deep breath.','Open your eyes and notice how you feel now.'] },
    { name: 'Use a fidget tool', desc: 'Fidget tools give your hands something to do, which can calm restless energy in your body.', steps: ['Pick up your fidget tool quietly.','Focus on the feeling of it in your hands.','Squeeze, stretch, or roll it slowly and rhythmically.','Match your breathing to the movement: squeeze in, release out.','When you feel calmer, put it away and refocus.'] },
    { name: 'Ask for a movement break', desc: 'Sometimes your body has too much energy and needs to move before it can settle down.', steps: ['Put your hand up or quietly approach your teacher.','Say: "I am feeling a bit unsettled. May I have a movement break?"','If allowed, walk to a calm area or do some stretches.','Use the time to breathe and notice your body calming.','Return when you feel ready to refocus.'] },
    { name: 'Write down your feelings', desc: 'Putting your feelings on paper gets them out of your head and helps you understand them.', steps: ['Take a piece of paper or your feelings journal.','Write or draw how you are feeling right now. Do not worry about spelling or neatness.','Look at what you have written and name the feeling.','Take a deep breath and ask yourself: "What do I need right now?"','Keep the paper or show it to a trusted adult if you want to talk.'] }
  ],
  red: [
    { name: 'Stop and freeze your body', desc: 'When emotions are very big, stopping all movement prevents you from doing something you might regret.', steps: ['Wherever you are, freeze your whole body still.','Press your feet firmly into the floor.','Drop your hands to your sides and unclench your fists.','Take three very slow breaths: in through the nose, out through the mouth.','Do not move or speak until you feel your heart rate start to slow.'] },
    { name: 'Go to a safe, quiet space', desc: 'Removing yourself from the situation helps your brain calm down without extra input.', steps: ['Tell an adult you need to go to your calm space.','Walk there slowly, focusing on each step.','Sit or stand in the quiet space.','Do not talk to anyone yet; let the silence work.','Stay until your breathing is steady and your thoughts feel clearer.'] },
    { name: 'Squeeze something soft tightly', desc: 'Tensing and releasing muscles is a quick way to let go of intense physical tension.', steps: ['Grab a stress ball, cushion, or even scrunch up a piece of paper.','Squeeze it as tightly as you can for five seconds.','Release and feel the tension drain from your hands.','Repeat three more times, squeezing a little less each time.','Notice how your hands and arms feel lighter afterwards.'] },
    { name: 'Ask an adult for help immediately', desc: 'When feelings are overwhelming, an adult can help keep you and others safe.', steps: ['Say clearly: "I need help" or "I am not OK."','If you cannot speak, raise your hand or go to a trusted adult.','Let the adult guide you; you do not have to figure this out alone.','Follow their instructions, even if it feels hard.','When you are calmer, talk about what happened and what you need.'] },
    { name: 'Use the 5-4-3-2-1 grounding technique', desc: 'This technique uses your senses to bring you back to the present moment and away from the overwhelming feeling.', steps: ['Name 5 things you can see around you right now.','Name 4 things you can physically touch or feel.','Name 3 things you can hear.','Name 2 things you can smell.','Name 1 thing you can taste.','Take a slow breath. You are here, you are safe.'] }
  ]
};

const SCENARIOS = [
  { text: 'Someone takes your pencil without asking.', expected: ['yellow','red'], good: ['Count backwards from 10','Take 5 deep breaths','Write down your feelings','Stop and freeze your body','Talk to a trusted adult'], feedback: 'It is natural to feel frustrated or annoyed. Taking a breath or counting helps you respond calmly instead of reacting.' },
  { text: 'You get a gold star for your brilliant work.', expected: ['green','yellow'], good: ['Keep a positive mindset','Use kind self-talk','Set a small goal','Take deep breaths to stay calm'], feedback: 'Feeling proud and excited is wonderful! You can use that positive energy to keep going.' },
  { text: 'The fire alarm goes off unexpectedly.', expected: ['yellow','red'], good: ['Take 5 deep breaths','Stop and freeze your body','Use the 5-4-3-2-1 grounding technique','Count backwards from 10'], feedback: 'Sudden loud noises can be alarming. Breathing and grounding techniques help your body feel safe again.' },
  { text: 'Your friend ignores you at break time.', expected: ['blue','yellow'], good: ['Talk to a trusted adult','Think of something positive','Write down your feelings','Take a short walk'], feedback: 'Feeling left out hurts. Talking to someone or writing your feelings helps you process the emotion.' },
  { text: 'You have a maths test tomorrow and you do not feel prepared.', expected: ['yellow','blue'], good: ['Take 5 deep breaths','Write down your feelings','Talk to a trusted adult','Set a small goal','Use kind self-talk'], feedback: 'Worrying about tests is very common. Breaking your revision into small steps and deep breathing can really help.' },
  { text: 'Another student says something unkind about you.', expected: ['yellow','red'], good: ['Stop and freeze your body','Take 5 deep breaths','Go to a safe, quiet space','Talk to a trusted adult','Ask an adult for help immediately'], feedback: 'Unkind words can hit hard. It is important to pause before reacting and then get support from a trusted adult.' },
  { text: 'It is a rainy Monday morning and you feel really tired.', expected: ['blue'], good: ['Get a drink of water','Do some gentle stretching','Take a short walk','Think of something positive','Talk to a trusted adult'], feedback: 'Low energy days happen to everyone. Gentle movement and a positive thought can lift your mood gradually.' },
  { text: 'You score the winning goal in a PE game.', expected: ['green','yellow'], good: ['Keep a positive mindset','Use kind self-talk','Help someone else','Take deep breaths to stay calm'], feedback: 'That rush of excitement is great! Enjoy the moment and use the good energy to encourage your teammates too.' }
];

let currentScenario = 0;
let scenarioZonePick = null;
let scenarioStrategyPick = null;
let journeySelectedZone = 'green';
let journeyData = {};

/* --- Navigation --- */
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById('sec-' + id).classList.add('active');
  document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
  if (id === 'scenarios') loadScenario();
  if (id === 'journey') buildJourneyTimeline();
}

/* --- Strategy Modal --- */
function openStrategy(zone, idx) {
  const s = STRATEGIES[zone][idx];
  document.getElementById('modalTitle').textContent = s.name;
  document.getElementById('modalDesc').textContent = s.desc;
  const stepsEl = document.getElementById('modalSteps');
  stepsEl.innerHTML = '';
  s.steps.forEach(step => { const li = document.createElement('li'); li.textContent = step; stepsEl.appendChild(li); });
  const modalContent = document.querySelector('.modal-content');
  modalContent.style.borderTop = '5px solid var(--zone-' + zone + ')';
  document.getElementById('strategyModal').classList.add('open');
}
function openZoneDetail(zone) { openStrategy(zone, 0); }
function closeModal() { document.getElementById('strategyModal').classList.remove('open'); }
document.getElementById('strategyModal').addEventListener('click', function(e) { if (e.target === this) closeModal(); });

/* --- Scenarios --- */
function loadScenario() {
  if (currentScenario >= SCENARIOS.length) {
    document.getElementById('scenarioBox').style.display = 'none';
    document.getElementById('scenarioComplete').style.display = 'block';
    return;
  }
  document.getElementById('scenarioBox').style.display = 'block';
  document.getElementById('scenarioComplete').style.display = 'none';
  scenarioZonePick = null;
  scenarioStrategyPick = null;

  const sc = SCENARIOS[currentScenario];
  document.getElementById('scenarioLabel').textContent = 'Scenario ' + (currentScenario + 1) + ' of ' + SCENARIOS.length;
  document.getElementById('scenarioText').textContent = sc.text;
  document.getElementById('scenarioPrompt').textContent = 'Which zone would you be in?';
  document.getElementById('strategySection').style.display = 'none';
  document.getElementById('feedbackBox').style.display = 'none';
  document.getElementById('feedbackBox').className = 'feedback-box';
  document.getElementById('nextBtn').style.display = 'none';

  const zp = document.getElementById('zonePicks');
  zp.innerHTML = '';
  ['blue','green','yellow','red'].forEach(z => {
    const btn = document.createElement('button');
    btn.className = 'zone-pick-btn ' + z;
    btn.textContent = z.charAt(0).toUpperCase() + z.slice(1);
    btn.onclick = () => pickZone(z, btn);
    zp.appendChild(btn);
  });

  const prog = document.getElementById('scenarioProgress');
  prog.innerHTML = '';
  for (let i = 0; i < SCENARIOS.length; i++) {
    const dot = document.createElement('div');
    dot.className = 'progress-dot' + (i < currentScenario ? ' done' : '') + (i === currentScenario ? ' current' : '');
    prog.appendChild(dot);
  }
}

function pickZone(zone, btn) {
  if (scenarioZonePick) return;
  scenarioZonePick = zone;
  document.querySelectorAll('.zone-pick-btn').forEach(b => b.style.opacity = '0.4');
  btn.style.opacity = '1';
  btn.classList.add('selected');

  const sc = SCENARIOS[currentScenario];
  const isExpected = sc.expected.includes(zone);

  if (zone === 'green') {
    const fb = document.getElementById('feedbackBox');
    fb.style.display = 'block';
    fb.className = 'feedback-box correct';
    fb.textContent = 'You are already in the green zone! That is great. ' + sc.feedback;
    document.getElementById('nextBtn').style.display = 'inline-block';
    return;
  }

  if (!isExpected) {
    const fb = document.getElementById('feedbackBox');
    fb.style.display = 'block';
    fb.className = 'feedback-box partial';
    fb.textContent = 'That is an interesting choice. Many people might feel ' + sc.expected.join(' or ') + ' zone in this situation, but everyone is different. Now pick a strategy to help.';
  }

  showStrategies();
}

function showStrategies() {
  document.getElementById('strategySection').style.display = 'block';
  const sp = document.getElementById('strategyPicks');
  sp.innerHTML = '';
  const allStrats = [];
  Object.keys(STRATEGIES).forEach(zone => {
    STRATEGIES[zone].forEach(s => { if (!allStrats.includes(s.name)) allStrats.push(s.name); });
  });
  // Pick 6 strategies: include at least 2 good ones and fill randomly
  const sc = SCENARIOS[currentScenario];
  const good = sc.good.slice();
  const others = allStrats.filter(s => !good.includes(s));
  const shuffled = [...good.sort(() => Math.random() - 0.5).slice(0, 3), ...others.sort(() => Math.random() - 0.5).slice(0, 3)].sort(() => Math.random() - 0.5);

  shuffled.forEach(name => {
    const btn = document.createElement('button');
    btn.className = 'strategy-pick-btn';
    btn.textContent = name;
    btn.onclick = () => pickStrategy(name, btn);
    sp.appendChild(btn);
  });
}

function pickStrategy(name, btn) {
  if (scenarioStrategyPick) return;
  scenarioStrategyPick = name;
  document.querySelectorAll('.strategy-pick-btn').forEach(b => b.style.opacity = '0.4');
  btn.style.opacity = '1';
  btn.classList.add('selected');

  const sc = SCENARIOS[currentScenario];
  const fb = document.getElementById('feedbackBox');
  fb.style.display = 'block';
  if (sc.good.includes(name)) {
    fb.className = 'feedback-box correct';
    fb.textContent = 'Great choice! "' + name + '" is a really helpful strategy here. ' + sc.feedback;
  } else {
    fb.className = 'feedback-box partial';
    fb.textContent = 'That could help a little, but strategies like "' + sc.good[0] + '" or "' + sc.good[1] + '" might work even better here. ' + sc.feedback;
  }
  document.getElementById('nextBtn').style.display = 'inline-block';
}

function nextScenario() {
  currentScenario++;
  loadScenario();
}

function resetScenarios() {
  currentScenario = 0;
  loadScenario();
}

/* --- Journey Tracker --- */
const TIME_SLOTS = ['8:45','9:15','9:45','10:15','10:45','11:15','11:45','12:15','12:45','1:15','1:45','2:15','2:45','3:15'];
const ZONE_ORDER = ['red','yellow','green','blue'];

function buildJourneyTimeline() {
  const tl = document.getElementById('journeyTimeline');
  tl.innerHTML = '';
  TIME_SLOTS.forEach(time => {
    const slot = document.createElement('div');
    slot.className = 'journey-slot';
    const label = document.createElement('div');
    label.className = 'time-label';
    label.textContent = time;
    slot.appendChild(label);
    const col = document.createElement('div');
    col.className = 'journey-zone-col';
    ZONE_ORDER.forEach(zone => {
      const dot = document.createElement('div');
      dot.className = 'journey-zone-slot';
      if (journeyData[time] === zone) dot.classList.add('filled', zone);
      dot.onclick = () => placeJourneyDot(time, zone, dot);
      col.appendChild(dot);
    });
    slot.appendChild(col);
    tl.appendChild(slot);
  });
}

function placeJourneyDot(time, zone) {
  if (journeyData[time] === journeySelectedZone) {
    delete journeyData[time];
  } else {
    journeyData[time] = journeySelectedZone;
  }
  buildJourneyTimeline();
}

function pickJourneyZone(zone, btn) {
  journeySelectedZone = zone;
  document.querySelectorAll('.journey-picker button').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
}

function clearJourney() {
  journeyData = {};
  buildJourneyTimeline();
}

/* --- Init --- */
loadScenario();
buildJourneyTimeline();
</script>
</body>
</html>