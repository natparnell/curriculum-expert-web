<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>French Verb Conjugation Explorer - Interactive Patterns</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .verb-input-section {
            grid-column: 1 / -1;
        }

        h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .verb-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .verb-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            cursor: pointer;
            font-size: 1em;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: 600;
        }

        .verb-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .verb-btn.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .custom-input {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        input[type="text"] {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }

        .conjugation-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .conjugation-table th,
        .conjugation-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        .conjugation-table th {
            background: #f5f5f5;
            font-weight: 600;
            color: #667eea;
        }

        .pronoun {
            font-weight: 600;
            color: #764ba2;
        }

        .ending {
            color: #f5576c;
            font-weight: 700;
        }

        .stem {
            color: #333;
        }

        .pattern-highlight {
            background: linear-gradient(120deg, #ffd89b 0%, #19547b 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        .insights-box {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid #667eea;
        }

        .insight-item {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .pattern-viz {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .pattern-bar {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pattern-label {
            min-width: 80px;
            font-weight: 600;
        }

        .pattern-visual {
            flex: 1;
            height: 30px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            color: white;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
        }

        .pattern-visual:hover {
            transform: scale(1.02);
        }

        .compare-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .compare-box {
            padding: 15px;
            border-radius: 10px;
            background: #fff;
            border: 2px solid #e0e0e0;
        }

        .compare-box.similar {
            border-color: #4caf50;
            background: #f1f8f4;
        }

        .compare-box.different {
            border-color: #ff9800;
            background: #fff8f0;
        }

        .quiz-section {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 10px;
        }

        .quiz-question {
            font-size: 1.2em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .quiz-option {
            padding: 12px;
            border: 2px solid white;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-weight: 600;
        }

        .quiz-option:hover {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }

        .quiz-option.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .quiz-option.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: 600;
        }

        .feedback.correct {
            background: #4caf50;
            color: white;
        }

        .feedback.incorrect {
            background: #f44336;
            color: white;
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }

            .compare-section {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 1.8em;
            }
        }

        .legend {
            display: flex;
            gap: 20px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .phonetic {
            font-family: 'Courier New', monospace;
            color: #9c27b0;
            font-size: 0.95em;
            background: #f3e5f5;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .sound-alike {
            background: #fff9c4;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
        }

        .sentence-examples {
            margin-top: 20px;
            padding: 15px;
            background: #e8f5e9;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
        }

        .example-sentence {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 6px;
            font-size: 1.05em;
        }

        .example-verb {
            color: #f5576c;
            font-weight: 700;
        }

        .english-translation {
            color: #666;
            font-style: italic;
            margin-top: 5px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ‡«ðŸ‡· French Verb Conjugation Explorer</h1>
            <p class="subtitle">Discover patterns, not just memorize tables</p>
        </header>

        <div class="main-grid">
            <div class="card verb-input-section">
                <h2>Choose a Verb</h2>
                <div class="verb-buttons" id="verbButtons"></div>
                <div class="custom-input">
                    <input type="text" id="customVerb" placeholder="Or type any -er, -ir, -re verb...">
                    <button class="verb-btn" onclick="loadCustomVerb()">Explore</button>
                </div>
            </div>

            <div class="card">
                <h2>Present Tense Conjugation</h2>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #333;"></div>
                        <span>Stem</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #f5576c;"></div>
                        <span>Ending</span>
                    </div>
                </div>
                <table class="conjugation-table" id="conjugationTable">
                    <thead>
                        <tr>
                            <th>Pronoun</th>
                            <th>Conjugation</th>
                            <th>Phonetic</th>
                        </tr>
                    </thead>
                    <tbody id="conjugationBody">
                    </tbody>
                </table>
            </div>

            <div class="card">
                <h2>Pattern Analysis</h2>
                <div class="insights-box" id="insightsBox">
                    <div class="insight-item">Select a verb to see pattern insights...</div>
                </div>
                <div class="pattern-viz" id="patternViz"></div>
            </div>

            <div class="card">
                <h2>Comparative Learning</h2>
                <p>See how verbs in the same group follow identical patterns:</p>
                <div class="compare-section" id="compareSection">
                </div>
            </div>

            <div class="card" style="grid-column: 1 / -1;">
                <h2>ðŸŽ¯ Quick Challenge</h2>
                <div class="quiz-section" id="quizSection">
                </div>
            </div>
        </div>
    </div>

    <script>
        const verbDatabase = {
            'parler': { type: 'er', english: 'to speak', irregular: false,
                examples: ['Je parle franÃ§ais.', 'Nous parlons ensemble.', 'Ils parlent trop vite!'],
                translations: ['I speak French.', 'We speak together.', 'They speak too fast!']
            },
            'manger': { type: 'er', english: 'to eat', irregular: false,
                examples: ['Tu manges une pomme.', 'Vous mangez au restaurant.', 'Elle mange du chocolat.'],
                translations: ['You eat an apple.', 'You eat at the restaurant.', 'She eats chocolate.']
            },
            'danser': { type: 'er', english: 'to dance', irregular: false,
                examples: ['Je danse bien.', 'Ils dansent le tango.', 'Nous dansons ce soir.'],
                translations: ['I dance well.', 'They dance the tango.', 'We dance tonight.']
            },
            'finir': { type: 'ir', english: 'to finish', irregular: false,
                examples: ['Je finis mes devoirs.', 'Nous finissons Ã  midi.', 'Vous finissez le projet.'],
                translations: ['I finish my homework.', 'We finish at noon.', 'You finish the project.']
            },
            'choisir': { type: 'ir', english: 'to choose', irregular: false,
                examples: ['Tu choisis la musique.', 'Elles choisissent un film.', 'Je choisis le bleu.'],
                translations: ['You choose the music.', 'They choose a movie.', 'I choose the blue one.']
            },
            'vendre': { type: 're', english: 'to sell', irregular: false,
                examples: ['Il vend sa voiture.', 'Nous vendons des livres.', 'Vous vendez des fleurs.'],
                translations: ['He sells his car.', 'We sell books.', 'You sell flowers.']
            },
            'attendre': { type: 're', english: 'to wait', irregular: false,
                examples: ['J\'attends le bus.', 'Tu attends longtemps.', 'Elles attendent ici.'],
                translations: ['I wait for the bus.', 'You wait a long time.', 'They wait here.']
            },
            'aimer': { type: 'er', english: 'to love', irregular: false,
                examples: ['J\'aime le chocolat.', 'Nous aimons Paris.', 'Vous aimez la musique.'],
                translations: ['I love chocolate.', 'We love Paris.', 'You love music.']
            },
            'Ã©couter': { type: 'er', english: 'to listen', irregular: false,
                examples: ['J\'Ã©coute la radio.', 'Tu Ã©coutes bien.', 'Ils Ã©coutent le professeur.'],
                translations: ['I listen to the radio.', 'You listen well.', 'They listen to the teacher.']
            },
            'rÃ©ussir': { type: 'ir', english: 'to succeed', irregular: false,
                examples: ['Je rÃ©ussis l\'examen.', 'Nous rÃ©ussissons ensemble.', 'Elle rÃ©ussit toujours.'],
                translations: ['I pass the exam.', 'We succeed together.', 'She always succeeds.']
            }
        };

        const pronouns = ['je', 'tu', 'il/elle', 'nous', 'vous', 'ils/elles'];

        const endings = {
            'er': ['e', 'es', 'e', 'ons', 'ez', 'ent'],
            'ir': ['is', 'is', 'it', 'issons', 'issez', 'issent'],
            're': ['s', 's', '', 'ons', 'ez', 'ent']
        };

        // Phonetic pronunciation guide (IPA-inspired but simplified for students)
        const phoneticGuide = {
            'er': {
                'e': '/parle/', 'es': '/parle/', 'e': '/parle/',
                'ons': '/parlÉ”Ìƒ/', 'ez': '/parle/', 'ent': '/parle/'
            },
            'ir': {
                'is': '/fini/', 'is': '/fini/', 'it': '/fini/',
                'issons': '/finisÉ”Ìƒ/', 'issez': '/finise/', 'issent': '/finis/'
            },
            're': {
                's': '/vÉ‘Ìƒ/', 's': '/vÉ‘Ìƒ/', '': '/vÉ‘Ìƒ/',
                'ons': '/vÉ‘ÌƒdÉ”Ìƒ/', 'ez': '/vÉ‘Ìƒde/', 'ent': '/vÉ‘Ìƒd/'
            }
        };

        function getPhonetic(verb, ending, verbType) {
            const stem = getStem(verb);
            const stemPhonetic = stem.replace(/er$|ir$|re$/,'');

            // Simplified phonetics for display
            if (verbType === 'er') {
                if (ending === 'ons') return `[${stemPhonetic}-É”Ìƒ]`;
                if (ending === 'ez') return `[${stemPhonetic}-ay]`;
                return `[${stemPhonetic}]`; // Silent ending
            }
            if (verbType === 'ir') {
                if (ending.includes('iss')) return `[${stemPhonetic}-ees]`;
                return `[${stemPhonetic}-ee]`;
            }
            if (verbType === 're') {
                if (ending === 'ons') return `[${stemPhonetic}-É”Ìƒ]`;
                if (ending === 'ez') return `[${stemPhonetic}-ay]`;
                if (ending === 'ent') return `[${stemPhonetic}d]`;
                return `[${stemPhonetic}]`;
            }
        }

        let currentVerb = 'parler';
        let quizAnswer = '';

        function initializeApp() {
            const verbButtons = document.getElementById('verbButtons');
            Object.keys(verbDatabase).forEach(verb => {
                const btn = document.createElement('button');
                btn.className = 'verb-btn';
                btn.textContent = verb;
                btn.onclick = () => loadVerb(verb);
                verbButtons.appendChild(btn);
            });
            loadVerb('parler');
        }

        function loadVerb(verb) {
            currentVerb = verb;
            updateActiveButton(verb);
            displayConjugation(verb);
            displayInsights(verb);
            displayComparison(verb);
            generateQuiz(verb);
        }

        function loadCustomVerb() {
            const input = document.getElementById('customVerb');
            const verb = input.value.trim().toLowerCase();

            if (!verb) return;

            let type = '';
            if (verb.endsWith('er')) type = 'er';
            else if (verb.endsWith('ir')) type = 'ir';
            else if (verb.endsWith('re')) type = 're';
            else {
                alert('Please enter a verb ending in -er, -ir, or -re');
                return;
            }

            if (!verbDatabase[verb]) {
                verbDatabase[verb] = { type: type, english: 'custom verb', irregular: false };
            }

            loadVerb(verb);
            input.value = '';
        }

        function updateActiveButton(activeVerb) {
            document.querySelectorAll('.verb-btn').forEach(btn => {
                btn.classList.toggle('active', btn.textContent === activeVerb);
            });
        }

        function getStem(verb) {
            const info = verbDatabase[verb];
            if (info.type === 'er') return verb.slice(0, -2);
            if (info.type === 'ir') return verb.slice(0, -2);
            if (info.type === 're') return verb.slice(0, -2);
            return verb;
        }

        function conjugateVerb(verb, pronounIndex) {
            const stem = getStem(verb);
            const info = verbDatabase[verb];
            const ending = endings[info.type][pronounIndex];
            return { stem, ending, full: stem + ending };
        }

        function displayConjugation(verb) {
            const tbody = document.getElementById('conjugationBody');
            const info = verbDatabase[verb];
            tbody.innerHTML = '';

            pronouns.forEach((pronoun, index) => {
                const conjugation = conjugateVerb(verb, index);
                const phonetic = getPhonetic(verb, conjugation.ending, info.type);
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="pronoun">${pronoun}</td>
                    <td>
                        <span class="stem">${conjugation.stem}</span><span class="ending">${conjugation.ending}</span>
                    </td>
                    <td>
                        <span class="phonetic">${phonetic}</span>
                    </td>
                `;
                tbody.appendChild(row);
            });

            // Add sentence examples section
            displaySentenceExamples(verb);
        }

        function displaySentenceExamples(verb) {
            const info = verbDatabase[verb];
            if (!info.examples) return;

            // Find or create examples section
            let examplesSection = document.getElementById('sentenceExamples');
            if (!examplesSection) {
                const conjugationCard = document.querySelector('.card');
                examplesSection = document.createElement('div');
                examplesSection.id = 'sentenceExamples';
                examplesSection.className = 'sentence-examples';
                conjugationCard.appendChild(examplesSection);
            }

            examplesSection.innerHTML = '<h3 style="margin-bottom: 10px; color: #4caf50;">ðŸ’¬ Context Examples</h3>';

            info.examples.forEach((example, index) => {
                // Highlight the conjugated verb in the sentence
                const highlightedExample = example.replace(
                    new RegExp(`(${getStem(verb)}\\w*)`, 'gi'),
                    '<span class="example-verb">$1</span>'
                );

                const exampleDiv = document.createElement('div');
                exampleDiv.className = 'example-sentence';
                exampleDiv.innerHTML = `
                    <div>${highlightedExample}</div>
                    <div class="english-translation">${info.translations[index]}</div>
                `;
                examplesSection.appendChild(exampleDiv);
            });
        }


        function displayInsights(verb) {
            const info = verbDatabase[verb];
            const insightsBox = document.getElementById('insightsBox');
            const patternViz = document.getElementById('patternViz');

            const verbEndings = endings[info.type];
            const uniqueEndings = [...new Set(verbEndings)];

            const insights = {
                'er': [
                    `<strong>Pattern Discovery:</strong> -ER verbs have the most regular pattern in French!`,
                    `<strong>Silent Endings:</strong> Notice how je/tu/il/elle/ils/elles all SOUND the same (only 'e' differs in spelling)`,
                    `<strong>Sound Pattern:</strong> 4 out of 6 forms sound identical - French loves silent endings!`,
                    `<strong>Memorization Tip:</strong> Just learn "nous" and "vous" separately - the rest sound the same`
                ],
                'ir': [
                    `<strong>Pattern Discovery:</strong> -IR verbs add "-iss-" in plural forms (nous/vous/ils)`,
                    `<strong>The -ISS- Secret:</strong> This suffix makes pronunciation easier in plural`,
                    `<strong>Sound Pattern:</strong> Singular forms are short, plural forms have "iss" sound`,
                    `<strong>Memory Hook:</strong> Think "iss" = "plural hissing sound"`
                ],
                're': [
                    `<strong>Pattern Discovery:</strong> -RE verbs drop the ending for il/elle (silent consonant rule)`,
                    `<strong>The Silent Pattern:</strong> "vend" without -s or -t for il/elle shows French's love of silent letters`,
                    `<strong>Sound Pattern:</strong> All singular forms sound the same despite different spellings`,
                    `<strong>Why?</strong> The final consonant is only pronounced in liaison or plural forms`
                ]
            };

            insightsBox.innerHTML = insights[info.type].map(i => `<div class="insight-item">${i}</div>`).join('');

            patternViz.innerHTML = '';
            const colors = ['#667eea', '#f093fb', '#4facfe', '#43e97b', '#fa709a', '#fee140'];

            verbEndings.forEach((ending, index) => {
                const bar = document.createElement('div');
                bar.className = 'pattern-bar';
                bar.innerHTML = `
                    <div class="pattern-label">${pronouns[index]}</div>
                    <div class="pattern-visual" style="background: ${colors[index]};">
                        -${ending || 'âˆ…'}
                    </div>
                `;
                patternViz.appendChild(bar);
            });
        }

        function displayComparison(verb) {
            const info = verbDatabase[verb];
            const compareSection = document.getElementById('compareSection');

            const sameTypeVerbs = Object.keys(verbDatabase)
                .filter(v => v !== verb && verbDatabase[v].type === info.type)
                .slice(0, 2);

            compareSection.innerHTML = '';

            sameTypeVerbs.forEach(compareVerb => {
                const box = document.createElement('div');
                box.className = 'compare-box similar';

                const exampleIndex = 0;
                const verb1 = conjugateVerb(verb, exampleIndex);
                const verb2 = conjugateVerb(compareVerb, exampleIndex);

                box.innerHTML = `
                    <h3 style="color: #4caf50; margin-bottom: 10px;">${compareVerb} (${verbDatabase[compareVerb].english})</h3>
                    <p><strong>Same Pattern:</strong></p>
                    <p>${pronouns[exampleIndex]}: <span class="stem">${verb1.stem}</span><span class="ending">${verb1.ending}</span> â†’
                    <span class="stem">${verb2.stem}</span><span class="ending">${verb2.ending}</span></p>
                    <p style="margin-top: 10px; color: #666;">âœ“ Both follow -${info.type.toUpperCase()} rules perfectly</p>
                `;
                compareSection.appendChild(box);
            });
        }

        function generateQuiz(verb) {
            const quizSection = document.getElementById('quizSection');
            const randomPronounIndex = Math.floor(Math.random() * 6);
            const pronoun = pronouns[randomPronounIndex];
            const correct = conjugateVerb(verb, randomPronounIndex);

            quizAnswer = correct.full;

            const wrongEndings = ['ez', 'ons', 'es', 'ent', 'is', 'it'];
            const wrongOptions = wrongEndings
                .filter(e => e !== correct.ending)
                .slice(0, 2)
                .map(e => correct.stem + e);

            const options = [correct.full, ...wrongOptions, correct.stem + 'e']
                .filter((v, i, a) => a.indexOf(v) === i)
                .slice(0, 4)
                .sort(() => Math.random() - 0.5);

            quizSection.innerHTML = `
                <div class="quiz-question">How do you conjugate "${verb}" with "${pronoun}"?</div>
                <div class="quiz-options" id="quizOptions">
                    ${options.map(opt => `
                        <div class="quiz-option" onclick="checkAnswer('${opt}')">${opt}</div>
                    `).join('')}
                </div>
                <div id="quizFeedback"></div>
            `;
        }

        function checkAnswer(selected) {
            const options = document.querySelectorAll('.quiz-option');
            const feedback = document.getElementById('quizFeedback');

            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt.textContent === quizAnswer) {
                    opt.classList.add('correct');
                } else if (opt.textContent === selected) {
                    opt.classList.add('incorrect');
                }
            });

            if (selected === quizAnswer) {
                feedback.className = 'feedback correct';
                feedback.textContent = 'âœ“ Excellent! You\'ve mastered the pattern!';
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = `âœ— Not quite. The correct answer is "${quizAnswer}". Notice the pattern!`;
            }

            setTimeout(() => generateQuiz(currentVerb), 3000);
        }

        initializeApp();
    </script>
</body>
</html>
